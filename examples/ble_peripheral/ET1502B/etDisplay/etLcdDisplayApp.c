//#include "Z8D256U.h"
//#include "../cos/Includes.h"
//#include "TypeDefine.h"
//#include "protocol.h"
//#include "../display/LcdDisplayApp.h"

//#include "REGCONST.h"
//#include "TimerDrv.h"
//#include "SpiDrv.h"

//#include "../display/FontApp.h"
//#include "../etdrv/etSpi.H"
//#include "../cos/global.h"
//#include "string.h"
//#include "../display/BatSample.h"
//#include "../etbt/toshiba.h"
//#include "../keyboard/keyboard.h"
//#include "../display/MultiPageDisplay.h"
//#include "../cos/helper.h"
//#include "../cos/dbglog.h"
//#include "i2c_gpio.h"
//#include "feature_def.h"
//#include "typedefine.h"
//#include "arithmetic_data_manger.h"
//#include "string.h"
//#include "SpimFlash.h"
//#include "Lib.h"
//#include "MultiPageDisplay.h"
//#include "bootapi.h"
#include "nrf_delay.h"
#include "nrf_error.h"
///========================
#include "ET1502B.h"
#include "etVersion.h"
#include "stdio.h"
#include "string.h"
#include "etLcdDisplayApp.h"
#include "btprotocol.h"
#include "etI2c.h"
#include "etMotor.h"
#include "usr_task.h"
#include "et_battery.h"
#include "ke_timer.h"
#include "etkeyboard.h"
#include "GT24L16M1Y20.h"
#include "et_debug.h"
#include "et_inc.h"
#include "uartProtocol.h"
#include "etSpi.h"
#include "et_flash_offset.h"
#include "sleep_analysis.h"

#define KEY_VER_DISP_COUNTER      2000

#define ENABLE_DISP_DISTANCE 1

#define UPDATED_PASSWORD_NUM 8

struct  lcd_disp_para  LcdDispPara = {0, 0};

//extern void delay_ms(unsigned char ms);
//extern TWORD FileSearchEFByFID(TWORD fid);
//extern void ETFlashReadData(TWORD uiAddr,TBYTE *pucBuf,TBYTE ucLen);


//BOOL key_ver_disp_start = FALSE;
//BOOL key_ver_disp_end = FALSE;
//unsigned char updated_password[UPDATED_PASSWORD_NUM];
disp_stru disp_str;
disp_stru2 disp_str_rssi;

extern unsigned int app_get_sleep_begin(void);
extern unsigned int app_get_sleep_end(void);
extern unsigned int app_gei_sleep_all_time(void);

//long   key_ver_disp_counter = 0;

//const unsigned char UPDATE_PW_CHECK[UPDATED_PASSWORD_NUM]={0x31,0x31,0x32,0x32,0x31,0x32,0x31,0x32};
const char* day_RSSI0="信号:";//"RSSI:";//
//const char* day_RSSI1="获取距离失败";//"RSSI FAIL";//"获取信号失败";
//const char* day_RSSI2="未连接手机";//"RSNoConnected";//"蓝牙未连接";
const char* day_RSSI_distance="distance";//"蓝牙未连接";



const char* day_year_code="年";
const char* day_month_code="月";
const char* day_day_code="日";
//const unsigned char day_week_code[]="星期";
const unsigned char* day_week_code[7]=
{
	{"周一"},
	{"周二"},
	{"周三"},
	{"周四"},
	{"周五"},
	{"周六"},
	{"周日"}
	//{"1"},
	//{"2"},
	//{"3"},
	//{"4"},
	//{"5"},
	//{"6"},
	//{"7"}
};
/*
const unsigned char* key_mode_code[KEY_MODE_MAX]=
{
  	{"Null Mode"},
	{"sleep"},
	{"Limbo"},
  	{"stepToLimbo"},
	{"GotoSleep"},	
	{"Idle Mode"},
	//{"Pair Mode"},
	{"Connected Mode"},
  	{"USB Mode"}
};*/
//const unsigned char* Disp_Corrent_code[KeyBoard_Down_2_DISP_MAX]=
//{
//  	{"运动"},
//	{"走了"},
//	{"消耗"},
//	{"时间"}
//};
//#define GET_RSSI_COUNT
//uint8_t Disp_distance[GET_RSSI_COUNT]={0x00,0x00,0x00};
//extern uint32_t Get_Rssi(int8_t *p_rssi);
extern void start_Rssi(void);
extern void Get_Rssi_stop(void);


/********************************************************************************/
const unsigned char BLUETOOTH_0x00[]= //128 * 0x00
{
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00	
};
/*
const unsigned char POWER_ON_LOGO[]= //128X32
{

0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0xC0,0xE0,0xE0,0xF0,0xF0,0xF0,0xF8,
0xF8,0xF8,0x7C,0x7C,0x7C,0x7C,0x7C,0x7E,0xDE,0xDE,0xDE,0xDE,0xDE,0xCE,0xCE,0xCE,
0x8E,0x8E,0x8C,0x0C,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0x60,0x00,0x80,
0xE0,0xE0,0xE0,0x80,0x00,0x00,0x80,0xE0,0xE0,0xE0,0x00,0xE0,0xE0,0xE0,0xE0,0xE0,
0xE0,0xE0,0xE0,0xE0,0x60,0x80,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,
0xE0,0x00,0x80,0xE0,0xE0,0xE0,0x80,0x00,0x00,0x80,0xE0,0xE0,0xE0,0x00,0x80,0xC0,
0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xC0,0xE0,0xF0,0xFC,0xFE,0xFF,0xFF,0xFF,0x7F,0x9F,0xEF,0xF7,0xF3,0xF9,0x81,0x00,
0x00,0x00,0x00,0xFE,0x7F,0x3F,0x9F,0x1F,0x1F,0x1F,0x3F,0x3E,0x7E,0xFC,0xFD,0xF3,
0x67,0x1F,0xFF,0xFF,0xFF,0xFE,0xFC,0xF0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0xF0,0xFF,0xFF,0xFF,0xFF,0xCD,0xCC,0xCC,0xCE,0xCE,0x02,0xF0,0xFE,0xFF,
0x07,0x1F,0x7F,0xFF,0xFE,0xF8,0x7F,0x1F,0x03,0x00,0x00,0x00,0xFC,0xFF,0xFF,0xFF,
0x3F,0x00,0x00,0xF0,0xFE,0xFF,0xFF,0xFF,0xC3,0xC0,0xC0,0xC0,0xFE,0xFF,0x7F,0x0F,
0xF1,0xFE,0xFF,0x07,0x1F,0x7F,0xFF,0xFE,0xF8,0x7F,0x1F,0x03,0xF0,0xFC,0xFF,0xFF,
0xCF,0xCC,0xCC,0xCC,0xFC,0xFC,0xFC,0x0C,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x03,0x07,0x0F,0x3F,0x7F,0x7F,0xFF,0xFF,0xF8,0xFB,0xE7,0xDF,0xDF,0xBF,0xBF,0xFE,
0xFC,0xFC,0x7C,0x7C,0x7E,0x7F,0x3F,0x00,0x80,0x80,0x80,0xC0,0xC0,0xE1,0xF7,0xF9,
0xFE,0xFF,0xFF,0x7F,0x7F,0x3F,0x0F,0x07,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0xF0,
0x70,0xEC,0x08,0xCC,0x1A,0xE8,0x08,0x08,0x00,0x00,0x00,0x20,0xA4,0x4C,0xA0,0xD0,
0x6C,0x6A,0x68,0xE4,0x40,0x40,0x40,0x00,0x80,0x60,0x50,0xDE,0xB0,0x88,0xF8,0xD8,
0x54,0xB8,0x00,0x00,0x00,0x00,0x00,0x40,0xC8,0x08,0x00,0xE4,0x64,0xEC,0x5A,0x16,
0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x08,0x18,0x18,0x18,0x39,0x39,0x39,0x39,0x39,0x3D,0x3D,0x3D,
0x3D,0x3C,0x3C,0x3E,0x3E,0x3E,0x3F,0x1F,0x1F,0x0F,0x07,0x07,0x07,0x03,0x03,0x01,
0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x03,
0x01,0x0F,0x00,0x03,0x08,0x1F,0x00,0x00,0x00,0x00,0x00,0x06,0x01,0x00,0x03,0x02,
0x02,0x0B,0x1A,0x07,0x02,0x00,0x00,0x00,0x00,0x01,0x09,0x07,0x04,0x02,0x0F,0x08,
0x05,0x02,0x04,0x04,0x00,0x00,0x00,0x04,0x07,0x04,0x08,0x09,0x09,0x13,0x10,0x10,
0x17,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00

};*/
	/*
const unsigned char asciiLcdData[96][16]={
	{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,},
	{0x0,0x0,0xe0,0xf0,0xf0,0xe0,0x0,0x0,0x0,0x0,0x0,0x37,0x37,0x0,0x0,0x0,},
	{0x0,0x38,0x78,0x0,0x78,0x38,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,},
	{0x80,0xe0,0xe0,0x80,0xe0,0xe0,0x80,0x0,0x8,0x3f,0x3f,0x8,0x3f,0x3f,0x8,0x0,},
	{0xe0,0xf0,0x10,0x1c,0x1c,0x30,0x60,0x0,0x18,0x31,0x21,0xe1,0xe1,0x3f,0x1e,0x0,},
	{0xc0,0xc0,0x0,0x0,0x0,0x80,0xc0,0x0,0x30,0x18,0xc,0x6,0x3,0x31,0x30,0x0,},
	{0x0,0x60,0xf0,0x90,0xf0,0x60,0x0,0x0,0x1e,0x3f,0x21,0x23,0x1e,0x3f,0x21,0x0,},
	{0x0,0x40,0x78,0x38,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,},
	{0x0,0x0,0xc0,0xe0,0x30,0x10,0x0,0x0,0x0,0x0,0xf,0x1f,0x30,0x20,0x0,0x0,},
	{0x0,0x0,0x10,0x30,0xe0,0xc0,0x0,0x0,0x0,0x0,0x20,0x30,0x1f,0xf,0x0,0x0,},
	{0x0,0x80,0x80,0x0,0x0,0x80,0x80,0x0,0x2,0xa,0xf,0x7,0x7,0xf,0xa,0x2,},
	{0x0,0x0,0x0,0x80,0x80,0x0,0x0,0x0,0x0,0x2,0x2,0xf,0xf,0x2,0x2,0x0,},
	{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x40,0x78,0x38,0x0,0x0,0x0,},
	{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x2,0x2,0x2,0x2,0x2,0x2,0x2,0x0,},
	{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x30,0x30,0x0,0x0,0x0,},
	{0x0,0x0,0x0,0x0,0x0,0x80,0xc0,0x0,0x30,0x18,0xc,0x6,0x3,0x1,0x0,0x0,},
	{0xe0,0xf0,0x10,0x10,0x10,0xf0,0xe0,0x0,0x1f,0x3f,0x20,0x20,0x20,0x3f,0x1f,0x0,},
	{0x0,0x40,0x60,0xf0,0xf0,0x0,0x0,0x0,0x0,0x20,0x20,0x3f,0x3f,0x20,0x20,0x0,},
	{0x20,0x30,0x10,0x10,0x90,0xf0,0x60,0x0,0x38,0x3c,0x26,0x23,0x21,0x30,0x30,0x0,},
	{0x20,0x30,0x10,0x10,0x10,0xf0,0xe0,0x0,0x10,0x30,0x21,0x21,0x21,0x3f,0x1e,0x0,},
	{0x0,0x80,0xc0,0x60,0xf0,0xf0,0x0,0x0,0x3,0x3,0x2,0x22,0x3f,0x3f,0x22,0x0,},
	{0xf0,0xf0,0x10,0x10,0x10,0x10,0x10,0x0,0x11,0x31,0x21,0x21,0x23,0x3f,0x1e,0x0,},
	{0xc0,0xe0,0x30,0x10,0x10,0x0,0x0,0x0,0x1f,0x3f,0x21,0x21,0x21,0x3f,0x1e,0x0,},
	{0x30,0x30,0x10,0x10,0x10,0xf0,0xf0,0x0,0x0,0x0,0x3c,0x3e,0x3,0x1,0x0,0x0,},
	{0xe0,0xf0,0x10,0x10,0x10,0xf0,0xe0,0x0,0x1e,0x3f,0x21,0x21,0x21,0x3f,0x1e,0x0,},
	{0xe0,0xf0,0x10,0x10,0x10,0xf0,0xe0,0x0,0x0,0x21,0x21,0x21,0x31,0x1f,0xf,0x0,},
	{0x0,0x0,0x0,0xc0,0xc0,0x0,0x0,0x0,0x0,0x0,0x0,0x18,0x18,0x0,0x0,0x0,},
	{0x0,0x0,0x0,0xc0,0xc0,0x0,0x0,0x0,0x0,0x0,0x20,0x38,0x18,0x0,0x0,0x0,},
	{0x0,0x0,0x0,0x80,0xc0,0x60,0x20,0x0,0x0,0x2,0x7,0xd,0x18,0x30,0x20,0x0,},
	{0x0,0x80,0x80,0x80,0x80,0x80,0x80,0x0,0x0,0x4,0x4,0x4,0x4,0x4,0x4,0x0,},
	{0x0,0x20,0x60,0xc0,0x80,0x0,0x0,0x0,0x0,0x20,0x30,0x18,0xd,0x7,0x2,0x0,},
	{0xc0,0xa0,0x10,0x10,0x10,0xe0,0xc0,0x0,0x0,0x1,0x0,0x36,0x33,0x1,0x0,0x0,},
	{0x80,0x60,0x90,0x50,0xd0,0x20,0xc0,0x0,0x7,0x18,0x27,0x24,0x23,0x14,0xb,0x0,},
	{0x80,0xc0,0x60,0x30,0x60,0xc0,0x80,0x0,0x3f,0x3f,0x2,0x2,0x2,0x3f,0x3f,0x0,},
	{0x10,0xf0,0xf0,0x10,0x10,0xf0,0xe0,0x0,0x20,0x3f,0x3f,0x21,0x21,0x3f,0x1e,0x0,},
	{0xc0,0xe0,0x30,0x10,0x10,0x30,0x60,0x0,0xf,0x1f,0x30,0x20,0x20,0x30,0x18,0x0,},
	{0x10,0xf0,0xf0,0x10,0x30,0xe0,0xc0,0x0,0x20,0x3f,0x3f,0x20,0x30,0x1f,0xf,0x0,},
	{0x10,0xf0,0xf0,0x10,0x90,0x30,0x70,0x0,0x20,0x3f,0x3f,0x21,0x23,0x30,0x38,0x0,},
	{0x10,0xf0,0xf0,0x10,0x90,0x30,0x70,0x0,0x20,0x3f,0x3f,0x21,0x3,0x0,0x0,0x0,},
	{0xc0,0xe0,0x30,0x10,0x10,0x30,0x60,0x0,0xf,0x1f,0x30,0x22,0x22,0x1e,0x3e,0x0,},
	{0xf0,0xf0,0x0,0x0,0x0,0xf0,0xf0,0x0,0x3f,0x3f,0x1,0x1,0x1,0x3f,0x3f,0x0,},
	{0x0,0x0,0x10,0xf0,0xf0,0x10,0x0,0x0,0x0,0x0,0x20,0x3f,0x3f,0x20,0x0,0x0,},
	{0x0,0x0,0x0,0x10,0xf0,0xf0,0x10,0x0,0x1c,0x3c,0x20,0x20,0x3f,0x1f,0x0,0x0,},
	{0x10,0xf0,0xf0,0x0,0xc0,0xf0,0x30,0x0,0x20,0x3f,0x3f,0x3,0x7,0x3c,0x38,0x0,},
	{0x10,0xf0,0xf0,0x10,0x0,0x0,0x0,0x0,0x20,0x3f,0x3f,0x20,0x20,0x30,0x38,0x0,},
	{0xf0,0xf0,0xe0,0xc0,0xe0,0xf0,0xf0,0x0,0x3f,0x3f,0x0,0x1,0x0,0x3f,0x3f,0x0,},
	{0xf0,0xf0,0xe0,0xc0,0x80,0xf0,0xf0,0x0,0x3f,0x3f,0x0,0x1,0x3,0x3f,0x3f,0x0,},
	{0xc0,0xe0,0x30,0x10,0x30,0xe0,0xc0,0x0,0xf,0x1f,0x30,0x20,0x30,0x1f,0xf,0x0,},
	{0x10,0xf0,0xf0,0x10,0x10,0xf0,0xe0,0x0,0x20,0x3f,0x3f,0x21,0x1,0x1,0x0,0x0,},
	{0xe0,0xf0,0x10,0x10,0x10,0xf0,0xe0,0x0,0x1f,0x3f,0x20,0x38,0xf0,0xff,0x9f,0x0,},
	{0x10,0xf0,0xf0,0x10,0x10,0xf0,0xe0,0x0,0x20,0x3f,0x3f,0x1,0x3,0x3f,0x3c,0x0,},
	{0x60,0xf0,0x90,0x10,0x10,0x70,0x60,0x0,0x18,0x38,0x21,0x21,0x23,0x3e,0x1c,0x0,},
	{0x0,0x70,0x30,0xf0,0xf0,0x30,0x70,0x0,0x0,0x0,0x20,0x3f,0x3f,0x20,0x0,0x0,},
	{0xf0,0xf0,0x0,0x0,0x0,0xf0,0xf0,0x0,0x1f,0x3f,0x20,0x20,0x20,0x3f,0x1f,0x0,},
	{0xf0,0xf0,0x0,0x0,0x0,0xf0,0xf0,0x0,0x7,0xf,0x18,0x30,0x18,0xf,0x7,0x0,},
	{0xf0,0xf0,0x0,0x0,0x0,0xf0,0xf0,0x0,0xf,0x3f,0x38,0xe,0x38,0x3f,0xf,0x0,},
	{0x30,0xf0,0xc0,0x0,0xc0,0xf0,0x30,0x0,0x30,0x3c,0xf,0x3,0xf,0x3c,0x30,0x0,},
	{0x0,0xf0,0xf0,0x0,0x0,0xf0,0xf0,0x0,0x0,0x0,0x21,0x3f,0x3f,0x21,0x0,0x0,},
	{0x70,0x30,0x10,0x10,0x90,0xf0,0x70,0x0,0x38,0x3c,0x26,0x23,0x21,0x30,0x38,0x0,},
	{0x0,0x0,0xf0,0xf0,0x10,0x10,0x0,0x0,0x0,0x0,0x3f,0x3f,0x20,0x20,0x0,0x0,},
	{0xe0,0xc0,0x80,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x3,0x7,0xe,0x1c,0x38,0x0,},
	{0x0,0x0,0x10,0x10,0xf0,0xf0,0x0,0x0,0x0,0x0,0x20,0x20,0x3f,0x3f,0x0,0x0,},
	{0x20,0x30,0x18,0xc,0x18,0x30,0x20,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,},
	{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x0,},
	{0x0,0x0,0xc,0x1c,0x10,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,},
	{0x0,0x80,0x80,0x80,0x80,0x0,0x0,0x0,0x1c,0x3e,0x22,0x22,0x1f,0x3f,0x20,0x0,},
	{0x10,0xf0,0xf0,0x80,0x80,0x0,0x0,0x0,0x20,0x3f,0x1f,0x20,0x21,0x3f,0x1e,0x0,},
	{0x0,0x80,0x80,0x80,0x80,0x80,0x0,0x0,0x1f,0x3f,0x20,0x20,0x20,0x31,0x11,0x0,},
	{0x0,0x0,0x80,0x90,0xf0,0xf0,0x0,0x0,0x1e,0x3f,0x21,0x20,0x1f,0x3f,0x20,0x0,},
	{0x0,0x80,0x80,0x80,0x80,0x80,0x0,0x0,0x1f,0x3f,0x22,0x22,0x22,0x33,0x13,0x0,},
	{0x0,0xe0,0xf0,0x10,0x30,0x60,0x0,0x0,0x21,0x3f,0x3f,0x21,0x0,0x0,0x0,0x0,},
	{0x0,0x80,0x80,0x80,0x0,0x80,0x80,0x0,0x4f,0xdf,0x90,0x90,0xff,0x7f,0x0,0x0,},
	{0x10,0xf0,0xf0,0x0,0x80,0x80,0x0,0x0,0x20,0x3f,0x3f,0x1,0x0,0x3f,0x3f,0x0,},
	{0x0,0x0,0x80,0xb0,0xb0,0x0,0x0,0x0,0x0,0x0,0x20,0x3f,0x3f,0x20,0x0,0x0,},
	{0x0,0x0,0x0,0x80,0xb0,0xb0,0x0,0x0,0x60,0xe0,0x80,0x80,0xff,0x7f,0x0,0x0,},
	{0x10,0xf0,0xf0,0x0,0x0,0x80,0x80,0x0,0x20,0x3f,0x3f,0x6,0xf,0x39,0x30,0x0,},
	{0x0,0x0,0x10,0xf0,0xf0,0x0,0x0,0x0,0x0,0x0,0x20,0x3f,0x3f,0x20,0x0,0x0,},
	{0x80,0x80,0x80,0x0,0x80,0x80,0x0,0x0,0x3f,0x3f,0x1,0x3f,0x1,0x3f,0x3f,0x0,},
	{0x80,0x80,0x0,0x80,0x80,0x80,0x0,0x0,0x0,0x3f,0x3f,0x0,0x0,0x3f,0x3f,0x0,},
	{0x0,0x80,0x80,0x80,0x80,0x80,0x0,0x0,0x1f,0x3f,0x20,0x20,0x20,0x3f,0x1f,0x0,},
	{0x80,0x80,0x0,0x80,0x80,0x80,0x0,0x0,0x80,0xff,0xff,0x90,0x10,0x1f,0xf,0x0,},
	{0x0,0x80,0x80,0x80,0x0,0x80,0x80,0x0,0xf,0x1f,0x10,0x90,0xff,0xff,0x80,0x0,},
	{0x80,0x80,0x0,0x80,0x80,0x80,0x0,0x0,0x20,0x3f,0x3f,0x21,0x0,0x1,0x3,0x0,},
	{0x0,0x80,0x80,0x80,0x80,0x80,0x0,0x0,0x11,0x33,0x26,0x24,0x2c,0x39,0x11,0x0,},
	{0x80,0x80,0xe0,0xf0,0x80,0x80,0x0,0x0,0x0,0x0,0x1f,0x3f,0x20,0x30,0x10,0x0,},
	{0x80,0x80,0x0,0x0,0x80,0x80,0x0,0x0,0x1f,0x3f,0x20,0x20,0x1f,0x3f,0x20,0x0,},
	{0x0,0x80,0x80,0x0,0x0,0x80,0x80,0x0,0x0,0xf,0x1f,0x30,0x30,0x1f,0xf,0x0,},
	{0x80,0x80,0x0,0x0,0x0,0x80,0x80,0x0,0x1f,0x3f,0x30,0x1c,0x30,0x3f,0x1f,0x0,},
	{0x80,0x80,0x0,0x0,0x0,0x80,0x80,0x0,0x20,0x31,0x1f,0xe,0x1f,0x31,0x20,0x0,},
	{0x80,0x80,0x0,0x0,0x0,0x80,0x80,0x0,0x8f,0x9f,0x90,0x90,0xd0,0x7f,0x3f,0x0,},
	{0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x0,0x31,0x39,0x2c,0x26,0x23,0x31,0x30,0x0,},
	{0x0,0x0,0x0,0xe0,0xf0,0x10,0x10,0x0,0x0,0x1,0x1,0x1f,0x3e,0x20,0x20,0x0,},
	{0x0,0x0,0x0,0xf0,0xf0,0x0,0x0,0x0,0x0,0x0,0x0,0x3e,0x3e,0x0,0x0,0x0,},
	{0x0,0x10,0x10,0xf0,0xe0,0x0,0x0,0x0,0x0,0x20,0x20,0x3e,0x1f,0x1,0x1,0x0,},
	{0x10,0x18,0x8,0x18,0x10,0x18,0x8,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,},
	{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,},
};*/
//==================================================
const unsigned char alarm_pic_buf[] = //32x32
{
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x8E,0x7F,0x33,0x1B,0x0D,0x8C,0xEC,
	0x0C,0x0C,0x0B,0x3B,0x33,0xE7,0x9E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x3B,0x70,0xE0,0x40,0xC0,0xC3,
	0xC3,0xC2,0x42,0x60,0x78,0x1B,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

const unsigned char USB_CHARGING_0T4[]=/*16*32*/
{
	0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
	0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0xFE,0xFE,0xC0,0xC0,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,
	0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xFF,0xFF,0x07,0x07,0x00,0x00,0x00,0x00
};
const unsigned char USB_CHARGING_1T4[]=/*16*32*/
{
	0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0x06,0xF6,0xF6,0xF6,0x06,0x06,0x06,0x06,0x06,
	0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0xFE,0xFE,0xC0,0xC0,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xC0,0xDF,0xDF,0xDF,0xC0,0xC0,0xC0,0xC0,0xC0,
	0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xFF,0xFF,0x07,0x07,0x00,0x00,0x00,0x00
};
const unsigned char USB_CHARGING_2T4[]=/*16*32*/
{
	0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0x06,0xF6,0xF6,0xF6,0x06,0xF6,0xF6,0xF6,0x06,
	0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0xFE,0xFE,0xC0,0xC0,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xC0,0xDF,0xDF,0xDF,0xC0,0xDF,0xDF,0xDF,0xC0,
	0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xFF,0xFF,0x07,0x07,0x00,0x00,0x00,0x00
};
const unsigned char USB_CHARGING_3T4[]=/*16*32*/
{
	0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0x06,0xF6,0xF6,0xF6,0x06,0xF6,0xF6,0xF6,0x06,
	0xF6,0xF6,0xF6,0x06,0x06,0x06,0x06,0x06,0xFE,0xFE,0xC0,0xC0,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xC0,0xDF,0xDF,0xDF,0xC0,0xDF,0xDF,0xDF,0xC0,
	0xDF,0xDF,0xDF,0xC0,0xC0,0xC0,0xC0,0xC0,0xFF,0xFF,0x07,0x07,0x00,0x00,0x00,0x00
};
const unsigned char USB_CHARGING_4T4[]=/*16*32*/
{
	0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0x06,0xF6,0xF6,0xF6,0x06,0xF6,0xF6,0xF6,0x06,
	0xF6,0xF6,0xF6,0x06,0xF6,0xF6,0xF6,0x06,0xFE,0xFE,0xC0,0xC0,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xC0,0xDF,0xDF,0xDF,0xC0,0xDF,0xDF,0xDF,0xC0,
	0xDF,0xDF,0xDF,0xC0,0xDF,0xDF,0xDF,0xC0,0xFF,0xFF,0x07,0x07,0x00,0x00,0x00,0x00
};
//=================================================
const unsigned char STEP_ICON[]=/*16*16*/
{
	/*0x00,0x00,0x00,0xC0,0xF0,0x90,0xF8,0xF8,0xFF,0x3F,0x30,0x60,0x60,0x30,0x30,0x00,
	0x60,0x60,0x60,0x31,0x38,0x1F,0x0F,0x03,0x07,0x07,0x7E,0xFE,0xE0,0x00,0x00,0x00*/
	/*--  宽度x高度=32x32  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0xC0,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x18,0x1C,0x0E,0x0E,0x0E,0xCE,0xFC,0xFC,
0xFC,0xFC,0xF9,0xE3,0x83,0x81,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0x80,0x80,0x80,0xC0,0xC0,0xC0,0xE0,0xFC,0x7F,0x3F,0x7F,0xFF,
0xF3,0xC0,0x81,0x03,0x03,0x03,0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,
0x03,0x7F,0xFF,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
const unsigned char STEP_ICON_SMALL[]=/*16*16*/
{
	0x00,0x00,0x00,0xC0,0xF0,0x90,0xF8,0xF8,0xFF,0x3F,0x30,0x60,0x60,0x30,0x30,0x00,
	0x60,0x60,0x60,0x31,0x38,0x1F,0x0F,0x03,0x07,0x07,0x7E,0xFE,0xE0,0x00,0x00,0x00
};
const unsigned char INCOMING_ICON_SMALL[]=/*16*16*/
{
	0xFE,0xFF,0xFF,0xBF,0x3F,0x00,0x00,0xC0,0xC0,0x8C,0x19,0x71,0xE3,0x06,0x1C,0xF8,
	0x00,0x03,0x07,0x1F,0x7E,0xF8,0xF8,0xF8,0xF9,0xF8,0xE0,0x00,0x01,0x00,0x00,0x01

};


//=================================================
const unsigned char ENERGE_ICON[]=/*16*16*/
{
	/*0x00,0x00,0xE0,0x80,0xE0,0xF8,0xFE,0xFE,0xF8,0xE0,0xF0,0xE0,0xC0,0x00,0x00,0x00,
	0x00,0x0F,0x1F,0x3F,0x07,0x03,0x03,0x07,0x01,0x03,0x3F,0x1F,0x07,0x00,0x00,0x00*/
		/*--  宽度x高度=32x32  --*/
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x78,
		0x08,0x10,0x60,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x80,0x70,0x18,0x18,0x30,0x40,0xE0,0x18,0x06,0x01,0x00,
		0xC0,0x80,0x00,0x00,0x07,0xFC,0x80,0xF0,0x30,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x7F,0x80,0x00,0x00,0x00,0x00,0xF8,0x0C,0x0C,0x08,0x07,
		0x01,0x00,0x07,0x1C,0x08,0xF9,0x21,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x02,0x04,0x0C,0x09,0x0B,0x0E,0x0C,0x00,
		0x00,0x00,0x00,0x0E,0x0B,0x08,0x04,0x04,0x02,0x01,0x00,0x00,0x00,0x00,0x00,0x00


};
const unsigned char DISTANCE_ICON[]=/*16*16*/
{
	/*0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xE0,0x7C,0x7C,0x00,0x00,0x00,
	0x00,0x00,0x00,0xF8,0xF8,0x1F,0x1F,0x03,0x03,0x03,0x03,0x00,0x00,0x00,0x00,0x00*/
		/*--  宽度x高度=32x32  --*/
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x20,0x30,0x80,0xA0,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x90,0xC8,0xC0,0xE8,0xE0,0xCC,0x08,
		0x00,0x00,0x07,0xFF,0xFF,0xFF,0x3F,0x0E,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x1F,0x7F,0xFF,0xFF,0xC1,0x80,
		0x00,0x1E,0x1F,0x1F,0x0F,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x07,0x07,0x07,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00

};
const unsigned char SLEEP_ICON[]=/*32*32*/
{
/*	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0xC0,0xC0,0xC0,0xC0,
	0x80,0x80,0x80,0x00,0x00,0xC8,0xE8,0xB8,0x98,0x00,0x32,0x3A,0x2E,0x26,0x00,0x00,
	0x00,0x00,0x80,0xE0,0xF8,0x7C,0x7E,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,
	0x7F,0x0F,0x7F,0x7F,0x7E,0x7C,0x7C,0xF0,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x1E,0xFF,0xFF,0xFF,0xC0,0x00,0x06,0x0C,0x9C,0x9C,0xDE,0xCE,0xC0,0xC0,0xCE,
	0xDE,0x9C,0x9C,0x0C,0x06,0x00,0xC0,0xFF,0xFF,0xFF,0x1E,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x01,0x07,0x0F,0x1F,0x1C,0x3B,0x3B,0x71,0x71,0x71,0x71,0x71,0x71,
	0x71,0x71,0x3B,0x3B,0x1C,0x1F,0x0F,0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00
	*/
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x10,0x90,0x50,0x30,0x00,0x00,
	0x00,0x00,0x00,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x98,0xD8,0xF8,0x78,
	0x38,0xC1,0xE1,0xF1,0xD9,0xCD,0xC7,0xC3,0xC1,0x00,0x01,0x01,0x01,0x01,0x00,0x00,
	0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0x70,0x38,0x1C,0x0E,0x07,0x03,0x01,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x06,0x07,0x07,0x07,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00

};

/********************************************************************************/
const unsigned char USB_ICON_16x16[]=//16x16
{
	0x00,0x00,0x00,0x80,0x80,0x00,0x0C,0xFE,0xFE,0x0C,0x00,0xE0,0xE0,0x00,0x00,0x00,
	0x00,0x00,0x00,0x01,0x07,0x0E,0xD8,0xFF,0xFF,0xCC,0x06,0x03,0x00,0x00,0x00,0x00

};

const unsigned char BLUETOOTH_ICON_16x16[]=
{
	0x00,0x00,0x00,0x30,0x60,0xFF,0xFE,0x84,0x4C,0x38,0x10,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x0C,0x06,0x7F,0x3F,0x10,0x19,0x0E,0x04,0x00,0x00,0x00,0x00,0x00
};
const unsigned char BLUETOOTH_DISCONNECT_16x16[]=
{
	0x80,0x80,0x00,0x00,0x80,0x80,0x00,0x20,0x40,0xFF,0xFE,0x84,0x4C,0x38,0x10,0x00,
	0x01,0x01,0x00,0x00,0x01,0x01,0x00,0x04,0x02,0x7F,0x3F,0x10,0x19,0x0E,0x04,0x00
};
const unsigned char BLUETOOTH_CONNECT_16x16[]=
{
	/*0x80,0x80,0x80,0xA0,0xC0,0x80,0x00,0x20,0x40,0xFF,0xFE,0x84,0x4C,0x38,0x10,0x00,
	0x01,0x03,0x05,0x01,0x01,0x01,0x00,0x04,0x02,0x7F,0x3F,0x10,0x19,0x0E,0x04,0x00*/
	0x00,0x00,0x00,0x30,0x60,0xFE,0xFE,0x84,0x4C,0x38,0x10,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x0C,0x06,0x3F,0x3F,0x10,0x19,0x0E,0x04,0x00,0x00,0x00,0x00,0x00

};




const unsigned char ICON_0x00[]=
{
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
const unsigned char RSSI_ICON[2][32]=
{

//	{0x00,0x80,0x60,0xF8,0x07,0x00,0x04,0x24,0x24,0x25,0x26,0x24,0x24,0x24,0x04,0x00,
//	0x01,0x00,0x00,0xFF,0x00,0x00,0x00,0xF9,0x49,0x49,0x49,0x49,0x49,0xF9,0x00,0x00},/*"信",0*/
	
//	{0x80,0x80,0x80,0xBE,0xA2,0xA2,0xA2,0xA2,0xA2,0xA2,0xA2,0xBE,0x80,0x80,0x80,0x00,
//	0x00,0x00,0x00,0x06,0x05,0x04,0x04,0x04,0x44,0x84,0x44,0x3C,0x00,0x00,0x00,0x00},/*"号",1*/
	
//	{0x02,0xE2,0x22,0x22,0x3E,0x00,0x80,0x9E,0x92,0x92,0xF2,0x92,0x92,0x9E,0x80,0x00,
//	0x00,0x43,0x82,0x42,0x3E,0x40,0x47,0x44,0x44,0x44,0x7F,0x44,0x44,0x54,0xE7,0x00},/*"强",2*/
	
//	{0x00,0x00,0xFC,0x24,0x24,0x24,0xFC,0x25,0x26,0x24,0xFC,0x24,0x24,0x24,0x04,0x00,
//	0x40,0x30,0x8F,0x80,0x84,0x4C,0x55,0x25,0x25,0x25,0x55,0x4C,0x80,0x80,0x80,0x00},/*"度",3*/

	{0x20,0x30,0xAC,0x63,0x20,0x18,0x20,0x90,0x0C,0x0B,0x08,0x08,0x08,0xF8,0x00,0x00,
	0x22,0x67,0x22,0x12,0x12,0x12,0x00,0x00,0x01,0x06,0x40,0x80,0x40,0x3F,0x00,0x00},/*"约",0*/
	
	{0x00,0x40,0x42,0x44,0x58,0x40,0xC0,0xFF,0xC0,0x40,0x50,0x48,0x46,0x40,0x00,0x00,
	0x20,0x20,0x10,0x08,0x04,0x03,0x00,0xFF,0x00,0x03,0x04,0x08,0x10,0x20,0x20,0x00}/*"米",0*/

};

//=======================按键============================
/*
const unsigned char  display_up_key_logo[] = 
{
	//  宽度x高度=16x16 
0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xF0,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x02,0x03,0x03,0x0F,0x0F,0x0F,0x0F,0x0F,0x03,0x03,0x02,0x00,0x00,0x00,
};

const unsigned char  display_down_key_logo[] = {

//--  宽度x高度=16x16 
0x00,0x00,0x40,0xC0,0xC0,0xF0,0xF0,0xF0,0xF0,0xF0,0xC0,0xC0,0x40,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x0F,0x07,0x03,0x01,0x00,0x00,0x00,0x00,0x00,
	
};*/

//=======================电池================================
/*
const unsigned char  BATTERY_4to4[]= //16x16
{
	0x00,0x00,0x00,0xFC,0x02,0xDB,0xDB,0xDB,0xDB,0xDB,0xDB,0x02,0xFC,0x00,0x00,0x00,
	0x00,0x00,0x00,0xFF,0x80,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0x80,0xFF,0x00,0x00,0x00
};

const unsigned char  BATTERY_3to4[]=//16x16
{
	0x00,0x00,0x00,0xFC,0x02,0xC3,0xC3,0xC3,0xC3,0xC3,0xC3,0x02,0xFC,0x00,0x00,0x00,
	0x00,0x00,0x00,0xFF,0x80,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0x80,0xFF,0x00,0x00,0x00

};
const unsigned char  BATTERY_2to4[]=//16x16
{
	0x00,0x00,0x00,0xFC,0x02,0x03,0x03,0x03,0x03,0x03,0x03,0x02,0xFC,0x00,0x00,0x00,
	0x00,0x00,0x00,0xFF,0x80,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0x80,0xFF,0x00,0x00,0x00
};
const unsigned char  BATTERY_1to4[]=//16x16
{
	0x00,0x00,0x00,0xFC,0x02,0x03,0x03,0x03,0x03,0x03,0x03,0x02,0xFC,0x00,0x00,0x00,
	0x00,0x00,0x00,0xFF,0x80,0xB0,0xB0,0xB0,0xB0,0xB0,0xB0,0x80,0xFF,0x00,0x00,0x00
};
const unsigned char  BATTERY_0to4[]=//16x16
{
	0x00,0x00,0x00,0xFC,0x02,0x03,0x03,0x03,0x03,0x03,0x03,0x02,0xFC,0x00,0x00,0x00,
	0x00,0x00,0x00,0xFF,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xFF,0x00,0x00,0x00
};*/
//=======================电池================================
const unsigned char  BATTERY_4to4[]= /*16*8*/
{
	0xF8,0x08,0xE8,0xE8,0x08,0xE8,0xE8,0x08,0xE8,0xE8,0x08,0xE8,0xE8,0x08,0xF0,0xE0,
	0x1F,0x10,0x17,0x17,0x10,0x17,0x17,0x10,0x17,0x17,0x10,0x17,0x17,0x10,0x0F,0x07
};

const unsigned char  BATTERY_3to4[]=/*16*8*/
{
	0xF8,0x08,0xE8,0xE8,0x08,0xE8,0xE8,0x08,0xE8,0xE8,0x08,0x08,0x08,0x08,0xF0,0xE0,
	0x1F,0x10,0x17,0x17,0x10,0x17,0x17,0x10,0x17,0x17,0x10,0x10,0x10,0x10,0x0F,0x07
};
const unsigned char  BATTERY_2to4[]=/*16*8*/
{
	0xF8,0x08,0xE8,0xE8,0x08,0xE8,0xE8,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0xF0,0xE0,
	0x1F,0x10,0x17,0x17,0x10,0x17,0x17,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x0F,0x07
};
const unsigned char  BATTERY_1to4[]=/*16*32*/
{
	0xF8,0x08,0xE8,0xE8,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0xF0,0xE0,
	0x1F,0x10,0x17,0x17,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x0F,0x07
};
const unsigned char  BATTERY_0to4[]=/*16*32*/
{
	0xF8,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0xF0,0xE0,
	0x1F,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x0F,0x07
};
//====================== BT logo===========================
/*
const unsigned char  BLUETOOTH_ICON_8x8[]=//16x8
{
	0x00,0x24,0x18,0xFF,0x99,0x5A,0x24,0x00

};
*/
const unsigned char  DIGITAL_ICON_32x12[11][48]=/*24X12*/
{
#if 0
{0x00,0x00,0x00,0x80,0xC0,0x20,0x60,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x1F,
0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xC0,0x80,0x40,0x3C,0x07,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"0",0*/

{0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x01,0xFF,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xFE,0x87,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"1",1*/

{0x00,0x00,0x00,0x00,0xC0,0x60,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,
0x00,0x80,0x70,0x1F,0x00,0x00,0x00,0x00,0x00,0x80,0xF0,0xCC,0xC2,0xC1,0xE0,0x10,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"2",2*/

{0x00,0x00,0x00,0x80,0x40,0x60,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,
0x60,0xF8,0xC7,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x80,0x80,0x40,0x38,0x07,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"3",3*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x30,
0x0C,0x83,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x04,0x07,0x06,0x06,0xFF,0x07,0x06,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"4",4*/

{0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0xC0,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x1F,0x38,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x80,0x80,0x40,0x30,0x0F,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"5",5*/

{0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x20,0x20,0x00,0x00,0x00,0x00,0x00,0xE0,0xFC,
0x27,0x10,0xF0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0x80,0x80,0x7F,0x0F,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"6",6*/

{0x00,0x00,0x00,0x00,0xC0,0xC0,0xC0,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x03,
0x00,0xE0,0x18,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xF8,0x07,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"7",7*/

{0x00,0x00,0x00,0x00,0x80,0x40,0x20,0x20,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
0x5F,0xF8,0x88,0x04,0x03,0x00,0x00,0x00,0x00,0x00,0x7E,0xC1,0x80,0x40,0x3F,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"8",8*/

{0x00,0x00,0x00,0x80,0x60,0x20,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0xFF,
0x00,0x00,0x80,0xFF,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x41,0x61,0x19,0x0F,0x01,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"9",9*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x78,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xE0,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}/*":",10*/
#endif
#if 0
{0x00,0x00,0x80,0xE0,0x70,0x30,0x30,0x70,0xE0,0x80,0x00,0x00,0x00,0xFC,0xFF,0x01,
0x00,0x00,0x00,0x00,0x01,0xFF,0xFC,0x00,0x00,0x1F,0xFF,0xC0,0x00,0x00,0x00,0x00,
0xE0,0xFF,0x1F,0x00,0x00,0x00,0x00,0x03,0x07,0x06,0x06,0x07,0x03,0x00,0x00,0x00},/*"0",0*/

{0x00,0x00,0x00,0x00,0x80,0x80,0xF0,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x03,
0x03,0x01,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x00,0x00,0x00,0x00},/*"1",1*/

{0x00,0x00,0xC0,0xE0,0x30,0x30,0x30,0x30,0xE0,0xE0,0x80,0x00,0x00,0x07,0x07,0x00,
0x00,0x00,0x00,0x80,0xE0,0x7F,0x1F,0x00,0x00,0x80,0xE0,0x78,0x1C,0x0E,0x07,0x03,
0x01,0x00,0x00,0x00,0x00,0x07,0x07,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x00},/*"2",2*/

{0x00,0x00,0x00,0xC0,0xE0,0x30,0x30,0x30,0x70,0xE0,0x80,0x00,0x00,0x00,0x07,0x07,
0x00,0xC0,0xC0,0xC0,0xF0,0xBF,0x0F,0x00,0x00,0x70,0xF0,0x80,0x00,0x00,0x00,0x00,
0x83,0xFF,0xFF,0x00,0x00,0x00,0x01,0x03,0x06,0x06,0x06,0x07,0x03,0x01,0x00,0x00},/*"3",3*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0xF0,0x00,0x00,0x00,0x00,0x00,0xC0,
0x70,0x1C,0x07,0x00,0xFF,0xFF,0x00,0x00,0x00,0x1C,0x1F,0x1B,0x18,0x18,0x18,0x18,
0xFF,0xFF,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x00,0x00},/*"4",4*/

{0x00,0x00,0x00,0xF0,0x30,0x30,0x30,0x30,0x30,0x30,0x00,0x00,0x00,0x00,0xFC,0xE7,
0x70,0x30,0x30,0x30,0xE0,0xC0,0x00,0x00,0x00,0x70,0xF0,0x80,0x00,0x00,0x00,0x00,
0x80,0xFF,0x7F,0x00,0x00,0x00,0x01,0x03,0x07,0x06,0x06,0x07,0x03,0x01,0x00,0x00},/*"5",5*/

{0x00,0x00,0x80,0xE0,0x60,0x30,0x30,0x30,0xE0,0xE0,0x80,0x00,0x00,0xFC,0xFF,0xC3,
0x60,0x30,0x30,0x70,0xE0,0xC3,0x03,0x00,0x00,0x3F,0xFF,0xC0,0x00,0x00,0x00,0x00,
0x80,0xFF,0x7F,0x00,0x00,0x00,0x01,0x03,0x07,0x06,0x06,0x07,0x03,0x01,0x00,0x00},/*"6",6*/

{0x00,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0xF0,0x70,0x00,0x00,0x00,0x00,0x00,
0x00,0x80,0xF0,0x3C,0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x7F,0x03,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"7",7*/

{0x00,0x80,0xE0,0x60,0x30,0x30,0x30,0x30,0x60,0xE0,0x80,0x00,0x00,0x0F,0xBF,0xF0,
0x60,0x60,0x60,0xE0,0xF0,0xBF,0x0F,0x00,0x00,0x7F,0xFF,0x81,0x00,0x00,0x00,0x00,
0x81,0xFF,0x7F,0x00,0x00,0x00,0x01,0x03,0x07,0x06,0x06,0x07,0x03,0x01,0x00,0x00},/*"8",8*/

{0x00,0x00,0xC0,0xE0,0x30,0x30,0x30,0x70,0xE0,0xC0,0x00,0x00,0x00,0x7F,0xFF,0x80,
0x00,0x00,0x00,0x00,0x81,0xFF,0xFE,0x00,0x00,0xE0,0xE1,0x83,0x07,0x06,0x06,0x03,
0xE1,0x7F,0x0F,0x00,0x00,0x00,0x03,0x07,0x06,0x06,0x06,0x03,0x01,0x00,0x00,0x00},/*"9",9*/

{0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x03,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xE0,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*":",10*/
#endif /*Consolas font*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0xFC,0x0F,
0x03,0x03,0x03,0x03,0x07,0xFE,0xF8,0x00,0x00,0x1F,0x7F,0xE0,0x80,0x80,0x80,0x80,
0xE0,0x7F,0x1F,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00},/*"0",0*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,
0x06,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0xFF,0xFF,0xFF,
0x80,0x80,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00},/*"1",1*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x03,
0x03,0x03,0x03,0x87,0xFF,0x7C,0x00,0x00,0x00,0x00,0xC0,0xE0,0xB8,0x9C,0x8E,0x87,
0x81,0x80,0x80,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00},/*"2",2*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x83,
0x83,0x83,0x83,0xC3,0x7F,0x3C,0x00,0x00,0x00,0x00,0x80,0x81,0x81,0x81,0x81,0x83,
0xE7,0x7E,0x18,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00},/*"3",3*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,
0x78,0x1C,0x07,0xFF,0xFF,0x00,0x00,0x00,0x18,0x1E,0x1F,0x19,0x18,0x18,0x18,0xFF,
0xFF,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00},/*"4",4*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
0x83,0x83,0x83,0x83,0x83,0x03,0x00,0x00,0x00,0x00,0x81,0x81,0x81,0x81,0x81,0xC1,
0xFF,0x7F,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00},/*"5",5*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xF8,0xBC,
0x86,0x87,0xC3,0xC3,0x83,0x83,0x00,0x00,0x00,0x0F,0x7F,0xE1,0x81,0x80,0x80,0x80,
0xC1,0xFF,0x3E,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00},/*"6",6*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x03,0x03,
0x03,0x03,0x03,0xE3,0xFB,0x1F,0x07,0x00,0x00,0x00,0x00,0x80,0xE0,0x7C,0x1F,0x03,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"7",7*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7E,0xFF,
0xC3,0x81,0x81,0xC3,0xE7,0x7E,0x08,0x00,0x00,0x38,0xFC,0xCE,0x83,0x81,0x83,0x83,
0xC7,0xFE,0x78,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00},/*"8",8*/

{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0xFE,0x87,
0x03,0x01,0x01,0x03,0x0F,0xFC,0xF0,0x00,0x00,0x00,0x81,0x83,0x83,0x82,0xC3,0xE3,
0x73,0x3F,0x07,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00},/*"9",9*/

{
/*
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x20,0x70,0x70,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xE0,0xC0,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x38,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x70,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00

}/*":",10*/
};
const unsigned char CLOCK_ICON[]= /*32*32*/
{
	/*0x00,0x00,0x00,0xF8,0xF8,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x78,0x78,
	0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0xF8,0xF8,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0xFF,0xFF,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xFF,0xFE,
	0xC0,0xC0,0xC0,0xC0,0xC0,0x80,0x00,0xC0,0xC0,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x81,0x81,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x07,0x07,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x07,0x07,
	0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x07,0x07,0x00,0x00,0x00,0x00,0x00
	*/
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,
	0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x02,0x07,0x02,0x00,0x00,0x00,0x00,0x80,0xF8,
	0xF0,0x80,0x80,0x80,0x80,0x80,0x02,0x07,0x02,0x80,0x80,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x80,0xC0,0x80,0x00,0x00,0x00,0x00,0x01,0x03,
	0x03,0x01,0x01,0x01,0x01,0x00,0x80,0xC0,0x80,0x01,0x01,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x06,
	0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00

};

//======================Z8 状态===========================
#if 0
const unsigned char Z8_STATUS_FULL_ICON[]= /*16*16*/
{
	0x00,0x00,0xC0,0x20,0x10,0x08,0x04,0x84,0x84,0x04,0x08,0x10,0x20,0xC0,0x00,0x00,
	0x00,0x00,0x03,0x04,0x08,0x10,0x20,0x21,0x21,0x20,0x10,0x08,0x04,0x03,0x00,0x00,
};

const unsigned char  Z8_STATUS_1to8_ICON[]= /*16*16*/
{
0x00,0x00,0xC0,0x20,0x10,0x08,0x04,0x84,0x84,0x04,0x00,0x00,0x00,0xC0,0x00,0x00,
0x00,0x00,0x03,0x04,0x08,0x10,0x20,0x21,0x21,0x20,0x10,0x08,0x04,0x03,0x00,0x00,
};
const unsigned char  Z8_STATUS_2to8_ICON[]= /*16*16*/
{
	0x00,0x00,0xC0,0x20,0x10,0x08,0x04,0x84,0x84,0x04,0x08,0x10,0x20,0x00,0x00,0x00,
0x00,0x00,0x03,0x04,0x08,0x10,0x20,0x21,0x21,0x20,0x10,0x08,0x04,0x00,0x00,0x00,

};
const unsigned char  Z8_STATUS_3to8_ICON[]= /*16*16*/
{

	0x00,0x00,0xC0,0x20,0x10,0x08,0x04,0x84,0x84,0x04,0x08,0x10,0x20,0xC0,0x00,0x00,
0x00,0x00,0x03,0x04,0x08,0x10,0x20,0x21,0x21,0x20,0x00,0x00,0x00,0x03,0x00,0x00,

};
const unsigned char  Z8_STATUS_4to8_ICON[]= /*16*16*/
{
	0x00,0x00,0xC0,0x20,0x10,0x08,0x04,0x84,0x84,0x04,0x08,0x10,0x20,0xC0,0x00,0x00,
	0x00,0x00,0x03,0x04,0x08,0x10,0x00,0x01,0x01,0x00,0x10,0x08,0x04,0x03,0x00,0x00,

};

const unsigned char  Z8_STATUS_5to8_ICON[]= /*16*16*/
{
	0x00,0x00,0xC0,0x20,0x10,0x08,0x04,0x84,0x84,0x04,0x08,0x10,0x20,0xC0,0x00,0x00,
0x00,0x00,0x03,0x00,0x00,0x00,0x20,0x21,0x21,0x20,0x10,0x08,0x04,0x03,0x00,0x00,

};
const unsigned char  Z8_STATUS_6to8_ICON[]= /*16*16*/
{
	0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x84,0x84,0x04,0x08,0x10,0x20,0xC0,0x00,0x00,
	0x00,0x00,0x00,0x04,0x08,0x10,0x20,0x21,0x21,0x20,0x10,0x08,0x04,0x03,0x00,0x00

};
const unsigned char  Z8_STATUS_7to8_ICON[]= /*16*16*/
{
	0x00,0x00,0xC0,0x00,0x00,0x00,0x04,0x84,0x84,0x04,0x08,0x10,0x20,0xC0,0x00,0x00,
	0x00,0x00,0x03,0x04,0x08,0x10,0x20,0x21,0x21,0x20,0x10,0x08,0x04,0x03,0x00,0x00,

};
const unsigned char  Z8_STATUS_8to8_ICON[]= /*16*16*/
{
	0x00,0x00,0xC0,0x20,0x10,0x08,0x00,0x80,0x80,0x00,0x08,0x10,0x20,0xC0,0x00,0x00,
	0x00,0x00,0x03,0x04,0x08,0x10,0x20,0x21,0x21,0x20,0x10,0x08,0x04,0x03,0x00,0x00
};
#endif

void Set_lastDisplayTag(uint8_t now_tag)
{
   disp_str.LCD_display_last_tag=now_tag;
   //DbgPrintf("**Set last_tag:%d \r\n",disp_str.LCD_display_last_tag);
}
UINT8 Get_lastDisplayTag(void)
{
   //DbgPrintf("==Get last_tag:%d \r\n",disp_str.LCD_display_last_tag);
   return disp_str.LCD_display_last_tag;
}

uint8_t check_lastDisplayTag(uint8_t now_tag)
{
   if(Get_lastDisplayTag()==now_tag)
   	return 0;
   else
   	return 1;
}

static uint8_t check_StrCanDisplay(void)
{
   if((Get_lastDisplayTag()==DISP_TAG_COS_DATA)||(Get_lastDisplayTag()==DISP_TAG_RSSI)||(disp_str.LCD_display_keymode_delay>0))
   	return 1;
   else
   	return 0;

}

uint8_t check_LCDDispCanChange(void)
{
   if((Get_lastDisplayTag()==DISP_TAG_COS_DATA))
   	return 1;
   else
   	return 0;

}

/*
static uint8_t GetColume(void)
{
	return LcdDispPara.lcd_col;
}
*/
static unsigned char Get_string_width(unsigned char *text, unsigned int len)
{
	unsigned char  i= 0;
	while((len>0x00))
	{
		if(((text[i]>=0x20)  && (text[i]<=0x7f)) || ((text[i] == 0x01))) /*ascii*/
		{
			i += 1;
			len -=1;	
		}
		else if((text[i] >= 0x81) && (text[i] <= 0xfe))
		{
			if(len >= 2)
			{
				if((text[i+1] >= 0x40) && (text[i+1] <= 0xfe))
				{
					i += 2;
					len -= 2;
				}
				else if((text[i+1] >= 0x30) && (text[i+1] <= 0x39)&&(len >= 4))
				{
						i += 4;
						len -= 4;
				}
				else
				{
					i += 2;
					len -= 2;
				}
			}

		}
		else
		{	
			len--;
			i++;	
		}
	}
return i;
}

void SetPageColume(uint8_t temp_page,uint8_t temp_col,uint8_t col_change_flag)
{
    if(col_change_flag==0)//set colume and page
    {
	LcdDispPara.lcd_col =temp_col;
	LcdDispPara.lcd_page =temp_page;
    }
	else //change colume and page
	{
		LcdDispPara.lcd_col +=temp_col;
		LcdDispPara.lcd_page =temp_page;

	}

}


static void changePage(void)
{
	LcdDispPara.lcd_col =0;
	LcdDispPara.lcd_page +=2;
	if(LcdDispPara.lcd_page>LCD_LAST_PAGE_NUM)
	{
		LcdDispPara.lcd_page = 0;
	}
}

void clear_AllScreen(void) 
{ 

	unsigned char  i;
	unsigned char Temp[3] = {0xb0, 0x10, COLUME_OFFSET};  
	for(i=0;i<4;i++)
	{
		et_i2c_write(LCD_ADDRESS,LCD_CMD_REG,Temp,3);
		Temp[0]++;

		et_i2c_write_conValue(LCD_ADDRESS,LCD_DATA_REG,0x00,128);
	}
	//LcdDispPara.lcd_page=0;
	//LcdDispPara.lcd_col=0;
	Motor_str.Motor_dispAlarm_flag=0;
	SetPageColume(0,0,PAGE_SET);
}

static void clear_secterScreen(UINT8 start_page,UINT8 page_num,UINT8 start_colume,UINT8 colume_width)
{ 

	unsigned char  i;
	unsigned char Temp[3] = {0xb0, 0x10, COLUME_OFFSET};  
	Temp[0] +=start_page;
	Temp[1] += (start_colume>>4 & 0x0f);
	Temp[2] += (start_colume & 0x0f);
    
	for(i=0;i<page_num;i++)
	{

		et_i2c_write(LCD_ADDRESS,LCD_CMD_REG,Temp,3);
		Temp[0]++;
		et_i2c_write_conValue(LCD_ADDRESS,LCD_DATA_REG,0x00,colume_width);
	}
	Motor_str.Motor_dispAlarm_flag=0;
	SetPageColume(start_page,start_colume,PAGE_SET);
}
void display_check_to_clear_Screen(void)
{
     clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);
}
/*
static void clear_password_buffer(void)
{
	memset(updated_password,0,UPDATED_PASSWORD_NUM);
	disp_str.LCD_disp_PassWd_count=0;
}
*/

static void LCD_sector_close(void)
{
	clear_secterScreen(0,4,0,LCD_LOG_COLUME_START); 
	disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_NULL;
	disp_str.LCD_disp_SlaveMenu=KeyBoard_Down_2_DISP_Slave_NULL;
	//clear_password_buffer();
}
void lcd_power_control(unsigned char flg)
{
	if(flg==LCD_OPEN)
	{
	    //if(disp_str.LCD_disp_LCD_is_close==1)
	    {
        //LCD_POWER_LOW;
        disp_str.LCD_disp_LCD_is_close=0;
		et_i2c_write_conValue(LCD_ADDRESS,LCD_CMD_REG,0xaf,1);
		
	    }
	}
	else
	{		
	    //if(disp_str.LCD_disp_LCD_is_close==0)
	//    {
	  LCD_sector_close();
		et_i2c_write_conValue(LCD_ADDRESS,LCD_CMD_REG,0xAE,1);
		//LCD_sector_close();
		Set_lastDisplayTag(DISP_TAG_NULL);
		disp_str.LCD_disp_LCD_is_close=1;
    //LCD_POWER_HIGH;//kevin test
    //nrf_gpio_cfg_input(LCD_RES_PIN,NRF_GPIO_PIN_NOPULL);
    //NRF_GPIO->DIRCLR = LCD_RES_PIN_MASK;	
    //LCD_RES_LOW;//KEVIN TEST
	//    }
	}
}

void Display_delay_check(void)
{
   
  if(disp_str.LCD_display_keymode_delay>0)
  {
	disp_str.LCD_display_keymode_delay--;

	if(disp_str.LCD_display_keymode_delay>0) 
	{
		//ke_timer_set(USR_DISPLAY_DELAY,100);
		return;
	}
	else
	{
	   if((Get_lastDisplayTag()==DISP_TAG_INCOMING_CALL)||(Get_lastDisplayTag()==DISP_TAG_ALARM))
	   {
       MotorCtr(0,0);
		 }
		 if((Get_lastDisplayTag()==DISP_TAG_RSSI_SLAVE))
		 {
		 Get_Rssi_stop();
		 }
	   if(check_LCDDispCanChange()==0)
	   {
		  if(USB_detect())
		  {
				lcd_power_control(LCD_CLOSE);
		  }
			else
			{
				lcd_power_control(LCD_CLOSE);
			}
	   }
		
	}
  }
}
static void Display_delay_set(UINT16 temp_interval)
{
	disp_str.LCD_display_keymode_delay=temp_interval;
	//ke_timer_clear(USR_DISPLAY_DELAY);
	//ke_timer_set(USR_DISPLAY_DELAY,temp_interval);// delay ==temp_interval*10ms*temp_count;

}

void display_LOGO_message(UINT8 start_page,UINT8 page_num,UINT8 start_colume,UINT8 per_colume_width,const UINT8* dataStr)
{
	UINT8 temp_page_num=0;
	UINT8 Temp[3] = {0xb0, 0x10, COLUME_OFFSET};
	UINT16 temp_offset=0;
	Temp[0] +=start_page;
	Temp[1] += (start_colume>>4 & 0x0f);
	Temp[2] += (start_colume & 0x0f);
	for(temp_page_num=0;temp_page_num<page_num;temp_page_num++)
	{
		et_i2c_write(LCD_ADDRESS,LCD_CMD_REG,Temp,3);
		et_i2c_write(LCD_ADDRESS,LCD_DATA_REG,dataStr+temp_offset,per_colume_width);
		temp_offset +=per_colume_width;
		Temp[0]++;
	}
}
void display_graphic_8x16(unsigned char page,unsigned char column,const unsigned char *dp)
{

	unsigned char Temp[3];	

	column=column+COLUME_OFFSET;
	Temp[0]=0xb0+page;
	Temp[1]=0x10+(column>>4&0x0f);
	Temp[2]=column&0x0f;



	et_i2c_write(LCD_ADDRESS,LCD_CMD_REG,Temp,3);//WriteLcdCommand(Temp, 3);
	et_i2c_write(LCD_ADDRESS,LCD_DATA_REG,dp,8);//WriteLcdData(dp, 8);
	//dp += 8;
	Temp[0]++;
	et_i2c_write(LCD_ADDRESS,LCD_CMD_REG,Temp,3);//WriteLcdCommand(Temp, 3);
	et_i2c_write(LCD_ADDRESS,LCD_DATA_REG,&dp[8],8);//WriteLcdData(dp, 8);
}
void display_graphic_16x16(unsigned char page,unsigned char column,unsigned char *dp)
{
	unsigned char  Temp[3];

	column = column + COLUME_OFFSET;
	Temp[0] = 0xb0 + page;
	Temp[1] = 0x10 + (column>>4 & 0x0f);
	Temp[2] = column & 0x0f;

	et_i2c_write(LCD_ADDRESS,LCD_CMD_REG,Temp,3);//WriteLcdCommand(Temp, 3);
	et_i2c_write(LCD_ADDRESS,LCD_DATA_REG,dp,16);//WriteLcdData(dp, 8);
	//dp += 8;
	Temp[0]++;
	et_i2c_write(LCD_ADDRESS,LCD_CMD_REG,Temp,3);//WriteLcdCommand(Temp, 3);
	et_i2c_write(LCD_ADDRESS,LCD_DATA_REG,&dp[16],16);//WriteLcdData(dp, 8);
}


/*
static void display_stepNUM(KeyBoard_Down_2_Disp_MainMenu disp_flag)
{
    UINT32 temp_number=0;//(UINT16)app_arthmetic_get_total_steps();;
	unsigned char pin[8];
	unsigned char temp=0,temp_length,temp2=0;
	switch(disp_flag)
	{
      case KeyBoard_Down_2_DISP_STEP_NUM:
	  	temp_number=(UINT16)app_arthmetic_get_total_steps();
	  break;
      case KeyBoard_Down_2_DISP_DISTANCE:
	  	temp_number=(UINT16)app_arthmetic_get_total_distance();
	  break;	
      case KeyBoard_Down_2_DISP_ENERGY:
	  	temp_number=(UINT16)app_arthmetic_get_total_calorie();
	  break;
	  default:
	  break;
	}
	do
	{
      pin[temp]=(temp_number) % 10;
	  temp_number=(temp_number) /10;
	  temp++;
	}
	while(temp_number!=0);
	for(temp_length=0;temp_length<temp;temp_length++)	
	{	  
	  pin[temp_length]=pin[temp_length]+0x30;
	}
	for(temp_length=0;temp_length<(temp/2);temp_length++)
	{
	  temp2=pin[temp_length];
	  pin[temp_length]=pin[temp-temp_length-1];
	  pin[temp-temp_length-1]=temp2;
	}
	display_gb18030_string(pin,temp,0,0);
}
*/
static void display_sleep_day_clock(uint8_t start_page,uint16_t temp_year,uint8_t temp_month,uint8_t temp_day,uint8_t temp_week,uint8_t temp_hour,unsigned char temp_munite,unsigned char temp_second)
{

		unsigned char temp_data[16];//+strlen(day_year_code)+strlen(day_month_code)+strlen(day_day_code)+strlen(day_week_code[(temp_week)])];
	uint8_t temp=0;
	if(check_LCDDispCanChange())
		return; 	 
	DbgPrintf("sleep %d年%d月%d日,周%d,%d时%d分%d秒\r\n",temp_year,temp_month,temp_day,temp_week,temp_hour,temp_munite,temp_second);
  DbgPrintf("sleep hex %x年%x月%x日,周%x,%x时%x分%x秒\r\n",temp_year,temp_month,temp_day,temp_week,temp_hour,temp_munite,temp_second);

	if((temp_day/10)>0)
	{
		 temp_data[temp++]=(temp_day/10)+0x30;
	} 
	else
	{
		temp_data[temp++]=0x30;
	} 
	temp_data[temp++]=(temp_day%10)+0x30;
  temp_data[temp++]='d';//0x3a;
//=====================hour and minute========================
	temp_data[temp++]=((temp_hour/10)&0x0f)+0x30;
	temp_data[temp++]=((temp_hour%10)&0x0f)+0x30;
	temp_data[temp++]='h';//0x3a;
	temp_data[temp++]=((temp_munite/10)&0x0f)+0x30;
	temp_data[temp++]=((temp_munite%10)&0x0f)+0x30;
	temp_data[temp++]='m';
	/*temp_data[5]=0x3a;
	temp_data[6]=((temp_second/10)&0x0f)+0x30;
	temp_data[7]=((temp_second%10)&0x0f)+0x30;
*/

//	SetPageColume(start_page,12,PAGE_SET);
	SetPageColume(start_page,42,PAGE_SET);
	display_gb18030_string(temp_data,temp,0,0);
}
	
static unsigned char display_int_2_char(UINT8* pin,UINT32 temp_data)
{
 //unsigned char pin[16];
 unsigned char temp=0,temp_length,temp2=0;
	do
	{
    pin[temp]=(temp_data) % 10;
	  temp_data=(temp_data) /10;
	  temp++;
	}
	while(temp_data!=0);


	for(temp_length=0;temp_length<temp;temp_length++)	
	{	  
	  pin[temp_length]=pin[temp_length]+0x30;
	}

	for(temp_length=0;temp_length<(temp/2);temp_length++)
	{
	  temp2=pin[temp_length];
	  pin[temp_length]=pin[temp-temp_length-1];
	  pin[temp-temp_length-1]=temp2;
	} 
	return temp;
}

static void display_step_distance_engery(UINT8 data_type)
{	 
	//char* stem_code1="步";
	//const char* stem_code2="米";
	//const char* stem_code3="卡";
  UINT32 temp_number=0;//(UINT16)app_arthmetic_get_total_steps();;
	unsigned char pin[16];
	unsigned char temp=0,temp_length,temp2=0;
	uint8_t data_srt[32];
	//UINT32 sleep_end=0;
	
	switch(data_type)
	{
      case KeyBoard_Down_2_DISP_STEP_NUM:
	  	temp_number=(UINT32)app_arthmetic_get_total_steps();		
	  break;
      case KeyBoard_Down_2_DISP_DISTANCE:
	  	temp_number=(UINT32)app_arthmetic_get_total_distance();
	  break;	
      case KeyBoard_Down_2_DISP_ENERGY:
	  	temp_number=(UINT32)app_arthmetic_get_total_calorie();
	  break;
		case KeyBoard_Down_2_DISP_SLEEP_STATUS:
			//app_arthmetic_get_sleep_status(&temp_number,&sleep_end);
		break;
	  default:
	  break;
	}

	do
	{
    pin[temp]=(temp_number) % 10;
	  temp_number=(temp_number) /10;
	  temp++;
	}
	while(temp_number!=0);


	for(temp_length=0;temp_length<temp;temp_length++)	
	{	  
	  pin[temp_length]=pin[temp_length]+0x30;
	}

	for(temp_length=0;temp_length<(temp/2);temp_length++)
	{
	  temp2=pin[temp_length];
	  pin[temp_length]=pin[temp-temp_length-1];
	  pin[temp-temp_length-1]=temp2;
	}
	//memcpy(data_srt,pin,temp);
    switch(data_type)
    {
      case KeyBoard_Down_2_DISP_STEP_NUM:
			if(temp<7)
			{
				temp2=temp*12+52;
				if(LCD_LOG_COLUME_START>temp2)
					temp2=((LCD_LOG_COLUME_START-temp2)/2);
				else
					temp2=0;	
				display_LOGO_message(0,4,temp2,32,STEP_ICON);//display icon
				for(temp_length=0;temp_length<temp;temp_length++)
				{
				display_LOGO_message(0,4,(temp2+32+12*temp_length),12,DIGITAL_ICON_32x12[pin[temp_length]-0x30]);//display icon 
				}
				hzbmp16(SEL_GB,0xb2bd,0,32,data_srt);
				display_LOGO_message(1,2,(temp2+36+12*temp_length),16,data_srt);//display icon			
			}
			else
			{
				if(temp<11)
				{
				temp2=temp*8+48;
				}
				else
				{
				temp2=temp*8+32;
				}
				if(LCD_LOG_COLUME_START>temp2)
					temp2=((LCD_LOG_COLUME_START-temp2)/2);
				else
					temp2=0;	
				display_LOGO_message(0,4,temp2,32,DISTANCE_ICON);//display icon 	
				SetPageColume(1,temp2+32,PAGE_SET);
				display_gb18030_string((const unsigned char *)pin,temp,0,0); //display digital
				if(temp<11)
				{
				hzbmp16(SEL_GB,0xb2bd,0,32,data_srt);
				display_LOGO_message(1,2,(temp2+32+8*temp),16,data_srt);//display icon	
				}
			}
		
	  break;
      case KeyBoard_Down_2_DISP_DISTANCE:

	if(temp<7)
	{
		temp2=temp*12+52;
		if(LCD_LOG_COLUME_START>temp2)
			temp2=((LCD_LOG_COLUME_START-temp2)/2);
		else
			temp2=0;	
		display_LOGO_message(0,4,temp2,32,DISTANCE_ICON);//display icon
		for(temp_length=0;temp_length<temp;temp_length++)
		{
		display_LOGO_message(0,4,(temp2+32+12*temp_length),12,DIGITAL_ICON_32x12[pin[temp_length]-0x30]);//display icon 
		}
		hzbmp16(SEL_GB,0xc3d7,0,32,data_srt);
		display_LOGO_message(1,2,(temp2+36+12*temp_length),16,data_srt);//display icon			
	}
	else
	{
		if(temp<11)
		{
		temp2=temp*8+48;
		}
		else
		{
		temp2=temp*8+32;
		}
		if(LCD_LOG_COLUME_START>temp2)
			temp2=((LCD_LOG_COLUME_START-temp2)/2);
		else
			temp2=0;	
		display_LOGO_message(0,4,temp2,32,DISTANCE_ICON);//display icon 	
		SetPageColume(1,temp2+32,PAGE_SET);
		display_gb18030_string((const unsigned char *)pin,temp,0,0); //display digital
		if(temp<11)
		{
		hzbmp16(SEL_GB,0xc3d7,0,32,data_srt);
		display_LOGO_message(1,2,(temp2+32+8*temp),16,data_srt);//display icon	
		}
	}		  
	
	  break;
      case KeyBoard_Down_2_DISP_ENERGY:
		if(temp<7)
		{
			//temp2=temp+6;
			//if(MAX_NUM_PER_COLUME>temp2)
			//	temp2=((MAX_NUM_PER_COLUME-temp2)/2)*8;
			//else
			//	temp2=0;
			temp2=temp*12+52;
			if(LCD_LOG_COLUME_START>temp2)
				temp2=((LCD_LOG_COLUME_START-temp2)/2);
			else
				temp2=0;	
			display_LOGO_message(0,4,temp2,32,ENERGE_ICON);//display icon
			for(temp_length=0;temp_length<temp;temp_length++)
			{
			display_LOGO_message(0,4,(temp2+32+12*temp_length),12,DIGITAL_ICON_32x12[pin[temp_length]-0x30]);//display icon 
			}
			hzbmp16(SEL_GB,0xbfa8,0,32,data_srt);
			display_LOGO_message(1,2,(temp2+36+12*temp_length),16,data_srt);//display icon			
		}
		else
		{
		  if(temp<11)
		  {
			temp2=temp*8+48;
		  }
			else
			{
      temp2=temp*8+32;
			}
			if(LCD_LOG_COLUME_START>temp2)
				temp2=((LCD_LOG_COLUME_START-temp2)/2);
			else
				temp2=0;	
			display_LOGO_message(0,4,temp2,32,ENERGE_ICON);//display icon		
			SetPageColume(1,temp2+32,PAGE_SET);
			display_gb18030_string((const unsigned char *)pin,temp,0,0); //display digital
			if(temp<11)
			{
			hzbmp16(SEL_GB,0xbfa8,0,32,data_srt);
			display_LOGO_message(1,2,(temp2+32+8*temp),16,data_srt);//display icon	
			}
		}

	  break;
		case KeyBoard_Down_2_DISP_SLEEP_STATUS:
	  {
    s_tm t_tm;

		t_tm.hour=0;
		t_tm.year=0;
		t_tm.month=0;
		t_tm.day=0;
		t_tm.weekdays=0;
		t_tm.minute=0;
		t_tm.second=0;
		//memset((unsigned char *)&t_tm,0,sizeof((unsigned char *)&t_tm));	
		
		display_LOGO_message(0,4,0,32,SLEEP_ICON);//display icon		
    system_time_get_hourS(&t_tm,app_get_sleep_begin());		
    display_sleep_day_clock(0,t_tm.year,t_tm.month,t_tm.day,t_tm.weekdays,t_tm.hour,t_tm.minute,t_tm.second);
		system_time_get_hourS(&t_tm,app_get_sleep_end());			
		display_sleep_day_clock(2,t_tm.year,t_tm.month,t_tm.day,t_tm.weekdays,t_tm.hour,t_tm.minute,t_tm.second);

		}
		break;
		case KeyBoard_Down_2_DISP_SLEEP_TIME:
			
			temp=display_int_2_char(pin,app_get_sleep_awake_time());
      SetPageColume(0,0,PAGE_SET);
			display_gb18030_string((const unsigned char *)pin,temp,0,0); //display digital
			SetPageColume(0,temp*8,PAGE_SET);
      display_gb18030_string((const unsigned char *)"m",1,0,0); //display digital
      
			temp=display_int_2_char(pin,app_get_sleep_shall_time());
      SetPageColume(0,64,PAGE_SET);
			display_gb18030_string((const unsigned char *)pin,temp,0,0); //display digital	
			SetPageColume(0,temp*8+64,PAGE_SET);
      display_gb18030_string((const unsigned char *)"m",1,0,0); //display digital

			
			temp=display_int_2_char(pin,app_get_sleep_deep_time());
      SetPageColume(2,0,PAGE_SET);
			display_gb18030_string((const unsigned char *)pin,temp,0,0); //display digital	
			SetPageColume(2,temp*8,PAGE_SET);
      display_gb18030_string((const unsigned char *)"m",1,0,0); //display digital			
		break;
		default:
		break;

	}
		
		
	//Display_delay_set(DISP_LOGO_DELAY,100); 	
	//Set_lastDisplayTag(DISP_TAG_STEP_NUM_SLAVE);

}

void display_Rssi_distance(signed char t_RSSI,uint8_t flag)
{
    unsigned char temp_RSSI=(unsigned char)t_RSSI;//signed char temp_number=temp_RSSI;//(UINT16)app_arthmetic_get_total_steps();
    unsigned char disp_data[32];
	unsigned char pin[6];
	unsigned char temp=0,temp2=0;
	UINT16 temp_length=0;
	unsigned char RSSI_inter_flag=0;
	unsigned char distance=0;
	if(check_LCDDispCanChange())
		return;	 
	memset(pin,0,8);
	memset(disp_data,0,sizeof(disp_data));
    if(flag==LCD_RSSI_GET_SUCCESS)
    {
		if(temp_RSSI>0x80)
		{
		  //RSSI_inter_flag=1;
		  temp_RSSI =~(temp_RSSI-1)&0xff;//256-temp_number;
		  //distance=temp_RSSI/45;
			if(temp_RSSI<55)
			 distance=0;
			else if(temp_RSSI<70)
			 distance=1;
			else if(temp_RSSI<75)
			 distance=2;			
			else if(temp_RSSI<85)
			 distance=4;	
			else if(temp_RSSI<90)
			 distance=6;	
      temp_RSSI=distance;
		  //Disp_distance[disp_str.LCD_disp_distance_count++]=temp_RSSI;		  
		  
		}
		temp=0;
		do
		{
	      pin[temp]=(temp_RSSI) % 10;
		  temp_RSSI=(temp_RSSI) /10;
		  temp++;
		}
		while(temp_RSSI!=0);
		for(temp_length=0;temp_length<temp;temp_length++)	
		{	  
		  pin[temp_length]=pin[temp_length]+0x30;
		}
		for(temp_length=0;temp_length<(temp/2);temp_length++)
		{
		  temp2=pin[temp_length];
		  pin[temp_length]=pin[temp-temp_length-1];
		  pin[temp-temp_length-1]=temp2;
		}
    }
	if(flag==LCD_RSSI_GET_SUCCESS)
	{

		/*memcpy(&disp_data[0],day_RSSI0,strlen(day_RSSI0));
		if(RSSI_inter_flag)
		{
		disp_data[strlen(day_RSSI0)]='-';
		memcpy(&disp_data[strlen(day_RSSI0)+2],pin,temp);
		temp +=strlen(day_RSSI0)+2;
		}
		else
		{
			memcpy(&disp_data[strlen(day_RSSI0)+2],pin,temp);
			temp +=strlen(day_RSSI0)+2;
		}	*/	
		//memcpy(&disp_data[0],day_RSSI0,strlen(day_RSSI0));
		if(RSSI_inter_flag)
		{
		disp_data[0]='-';
		memcpy(&disp_data[1],pin,temp);
		temp +=1;
		}
		else
		{
			memcpy(&disp_data[0],pin,temp);
			//temp +=1;
		}				
	}
	
	/*else if(flag==LCD_RSSI_NOT_CONNECTED)
	{
            memcpy(&disp_data[0],day_RSSI2,strlen(day_RSSI2));
			temp =strlen(day_RSSI2);		
		      
	}
    else //LCD_RSSI_GET_FAIL
	{

		memcpy(&disp_data[0],day_RSSI1,strlen(day_RSSI1));
        temp =strlen(day_RSSI1);
	}	*/
	lcd_power_control(LCD_OPEN);
	
	//display_LOGO_message(1,2,0,16,RSSI_ICON[0]);//display icon
	//display_LOGO_message(1,2,16,16,RSSI_ICON[1]);//display icon 
	//display_LOGO_message(1,2,32,16,RSSI_ICON[2]);//display icon 
	//display_LOGO_message(1,2,48,16,RSSI_ICON[3]);//display icon 
	display_LOGO_message(1,2,0,16,RSSI_ICON[0]);//display icon
  SetPageColume(1,16,PAGE_SET);
  //SetPageColume(1,64,PAGE_SET);
	//display_gb18030_string(disp_data,temp,0,0);
	display_gb18030_string(disp_data,temp,0,0);

	display_LOGO_message(1,2,16+temp*8,16,RSSI_ICON[1]);//display icon
	display_LOGO_message(1,2,16+temp*8+16,16,ICON_0x00);//display icon

	
}

/*
void display_start_get_RSSI(unsigned short const msgid)
{
	
	if(Protocol_check_BT_connected())
	{
	  display_Rssi_distance(0,LCD_RSSI_NOT_CONNECTED);//NOT CONNECTED

	}
	else
	{
	   if(UartGetRcvdLen()>0)
	   {
	     ke_timer_set(USR_CHECK_RSSI,100);
		 return;
	   }
		if(Toshiba_TCU_LE_READ_RSSI_REQ()==0)
		{
		  display_Rssi_distance(0,LCD_RSSI_GET_FAIL);//GET FAIL 
		  //Display_delay_set(DISP_LOGO_DELAY,100);
		}
		//else
		//{
          //ke_timer_set(USR_CHECK_RSSI,100);
		//}
	}

}
*/
void display_alarm(UINT8 temp_hour,UINT8 temp_munite)
{
   unsigned char temp_data[6];
   if(check_LCDDispCanChange()==0)
   {   	    
   		clear_AllScreen();
		lcd_power_control(LCD_OPEN);
		display_LOGO_message(0,4,0,32,alarm_pic_buf);
		SetPageColume(1,40,PAGE_SET);
		temp_data[0]=(temp_hour/10)&0x0f;
		temp_data[1]=(temp_hour%10)&0x0f;
		temp_data[2]=0x3a;
		temp_data[3]=(temp_munite/10)&0x0f;
		temp_data[4]=(temp_munite%10)&0x0f;
		
	    temp_data[0]+=0x30;
	    temp_data[1]+=0x30;
	    temp_data[3]+=0x30;
	    temp_data[4]+=0x30;

		display_gb18030_string(temp_data,5,0,0);
		Motor_str.Motor_dispAlarm_flag=1;
		Set_lastDisplayTag(DISP_TAG_ALARM);
		Display_delay_set(DISP_INCOMING_LOGO_DELAY);
		MotorCtr(1,MOTOR_TYPE_ALARM);
   	}
    
   
}
/*
static void display_Clock(unsigned char temp_hour,unsigned char temp_munite,unsigned char temp_second,UINT8 start_page)
{

    unsigned char temp_data[8];
	//if(check_StrCanDisplay())
	//	return;
	temp_data[0]=(temp_hour/10)&0x0f;
	temp_data[1]=(temp_hour%10)&0x0f;
	temp_data[2]=0x3a;
	temp_data[3]=(temp_munite/10)&0x0f;
	temp_data[4]=(temp_munite%10)&0x0f;
	temp_data[5]=0x3a;
	temp_data[6]=(temp_second/10)&0x0f;
	temp_data[7]=(temp_second%10)&0x0f;

    temp_data[0]+=0x30;
    temp_data[1]+=0x30;
    temp_data[3]+=0x30;
    temp_data[4]+=0x30;
    temp_data[6]+=0x30;
    temp_data[7]+=0x30;

	if(start_page==1)
	{
	 SetPageColume(1,32,PAGE_SET);
	}
	else
	{
     SetPageColume(start_page,16,PAGE_SET);
	}
	display_gb18030_string(temp_data,8,0,0);
	//Set_lastDisplayTag(DISP_TAG_CLOCK);
}*/
	static void Display_battery_icon(uint8_t temp_level,unsigned char start_clo)
	{
		//if(check_logoCanDisplay())
		//{ 		
			switch(temp_level)
			{
				case 0:
				 //display_LOGO_message(2,2,LCD_LOG_COLUME_START,16,BATTERY_0to4);
				 display_LOGO_message(2,2,start_clo,16,BATTERY_0to4);
				break;
				case 1:
				 //display_LOGO_message(2,2,LCD_LOG_COLUME_START,16,BATTERY_1to4);
					display_LOGO_message(2,2,start_clo,16,BATTERY_1to4);
				break;
				case 2:
				 //display_LOGO_message(2,2,LCD_LOG_COLUME_START,16,BATTERY_2to4);
					display_LOGO_message(2,2,start_clo,16,BATTERY_2to4);
				break;
				case 3:
				 //display_LOGO_message(2,2,LCD_LOG_COLUME_START,16,BATTERY_3to4);
					display_LOGO_message(2,2,start_clo,16,BATTERY_3to4);
				break;
				case 4:
				 //display_LOGO_message(2,2,LCD_LOG_COLUME_START,16,BATTERY_4to4);
					display_LOGO_message(2,2,start_clo,16,BATTERY_4to4);
				break;
				default:
				break;
			}
		//}
	}
	static void Display_Battery(unsigned char start_clo)
	{
		 static uint8_t charging_icon=0;
		 static uint8_t charging_icon_pro=0;
		 static uint16_t charging_time=0;
		 uint8_t temp_battery_percent=0;
	
	
		 lcd_power_control(LCD_OPEN);
		 temp_battery_percent=Get_BatteryPercent();
#if DEBUG_UART_EN 
				//		DbgPrintf("temp_battery_percent:%d\r\n",temp_battery_percent);
#endif  
		 if(USB_detect()==1)
		 {
			if(Charge_full_detect()==1)
			{
 #if DEBUG_UART_EN 
			//			DbgPrintf("charge ing...,temp_battery_percent=%x\r\n",temp_battery_percent);
#endif         
				 if(temp_battery_percent<=10)
				 {
					 temp_battery_percent=0;				 
					 if(charging_icon>=(temp_battery_percent+1))
					 {
					 charging_icon=temp_battery_percent;
					 }
					 else
					 {
						charging_icon++;
					 }			
				 }
				 else if(temp_battery_percent<=25)
				 {
					 temp_battery_percent=1;
					 if(charging_icon>=temp_battery_percent)
					 {
					 charging_icon=temp_battery_percent-1;
					 }
					 else
					 {
						charging_icon++;
					 }				
				 }
				 else if(temp_battery_percent<=50)
				 {
						temp_battery_percent=2;
						if(charging_icon>=temp_battery_percent)
						{
						charging_icon=temp_battery_percent-1;
						}
						else
						{
						 charging_icon++;
						}
	
				 }
				 else if(temp_battery_percent<=85)
				 {
						temp_battery_percent=3;
						if(charging_icon>=temp_battery_percent)
						{
						charging_icon=temp_battery_percent-1;
						}
						else
						{
						 charging_icon++;
						}
	
				 }
				 else if(temp_battery_percent<=100)
				 {
						temp_battery_percent=4;
						if(charging_icon>=temp_battery_percent)
						{
						charging_icon=temp_battery_percent-1;
						}
						else
						{
						 charging_icon++;
						}
	
				 }	 
				 else
				 {
					 //temp_battery_percent=5;
				 }
				 
				 if(charging_icon_pro!=temp_battery_percent)
				 {
				 charging_icon_pro=temp_battery_percent;
				 charging_time=0;
				 }
				 else
				 {
				 charging_time++;
				 }		 
				 if(temp_battery_percent==5)//charging full
					charging_icon=4; 
				 if(charging_time>4200) //charging full
				 {
					charging_icon=4;
				 }
			}
			else
			{
#if DEBUG_UART_EN 
			//			DbgPrintf("charge full\r\n");
#endif      
				charging_icon=4;
			}
			 temp_battery_percent=charging_icon;
#if DEBUG_UART_EN 
			//					 DbgPrintf("level=%x,charging_time=%x\r\n",temp_battery_percent,charging_time);
#endif
	
		}
		else
		{
	//========================================
			 charging_time=0;
			 charging_icon_pro=0;
			 if(temp_battery_percent<=20)
			 {
			temp_battery_percent=0;
			 }
			 else if(temp_battery_percent<=30)
			 {
			temp_battery_percent=1;
			 }
			 else if(temp_battery_percent<=60)
			 {
			temp_battery_percent=2;
			 }
			 else if(temp_battery_percent<=85)
			 {
			temp_battery_percent=3;
			 }
			 else if(temp_battery_percent>85)
			 {
			temp_battery_percent=4;
			 }	
		}
		if(temp_battery_percent>4)
			temp_battery_percent=4;
		Display_battery_icon(temp_battery_percent,start_clo); 
	
	}

static void display_day_clock(uint16_t temp_year,uint8_t temp_month,uint8_t temp_day,uint8_t temp_week,uint8_t temp_hour,unsigned char temp_munite,unsigned char temp_second)
{

    unsigned char temp_data[16];//+strlen(day_year_code)+strlen(day_month_code)+strlen(day_day_code)+strlen(day_week_code[(temp_week)])];
	uint8_t temp=0;
	if(check_LCDDispCanChange())
		return;	   
	//DbgPrintf("%d年%d月%d日 周%d,%d时%d分%d秒\r\n",temp_year,temp_month,temp_day,temp_week,temp_hour,temp_munite,temp_second);
	temp_data[3]=(temp_year%10)+0x30;
	temp_year =temp_year/10;
	temp_data[2]=(temp_year%10)+0x30;
	temp_year =temp_year/10;
	temp_data[1]=(temp_year%10)+0x30;
	temp_year =temp_year/10;
	temp_data[0]=(temp_year%10)+0x30;
	temp=4;
	//Memcpy(temp_data+temp,day_year_code,sizeof(day_year_code)-1);
	//temp +=sizeof(day_year_code)-1;
	temp_data[temp++]='-';

	if((temp_month/10)>0)
	{
     temp_data[temp++]=(temp_month/10)+0x30;
	}	
	else
	{
	  temp_data[temp++]=0x30;
	}
	temp_data[temp++]=(temp_month%10)+0x30;
	//Memcpy(temp_data+temp,day_month_code,strlen(day_month_code));
	//temp +=strlen(day_month_code);
	temp_data[temp++]='-';
	
	if((temp_day/10)>0)
	{
     temp_data[temp++]=(temp_day/10)+0x30;
	}	
	else
	{
	  temp_data[temp++]=0x30;
	}	
	temp_data[temp++]=(temp_day%10)+0x30;
	//Memcpy(temp_data+temp,day_day_code,sizeof(day_day_code)-1);
	//temp +=sizeof(day_day_code)-1;
//=====================clock ICON========================	
	//display_LOGO_message(0,4,0,32,CLOCK_ICON);//display CLOCK icon	
//=====================year month day========================	
//SetPageColume(0,40,PAGE_SET);
SetPageColume(0,12,PAGE_SET);

display_gb18030_string(temp_data,temp,0,0);//display Y-M-D	

//=====================hour and minute========================
	temp_data[0]=((temp_hour/10)&0x0f)+0x30;
	temp_data[1]=((temp_hour%10)&0x0f)+0x30;
	temp_data[2]=0x3a;
	temp_data[3]=((temp_munite/10)&0x0f)+0x30;
	temp_data[4]=((temp_munite%10)&0x0f)+0x30;
	/*temp_data[5]=0x3a;
	temp_data[6]=((temp_second/10)&0x0f)+0x30;
	temp_data[7]=((temp_second%10)&0x0f)+0x30;
*/

	//SetPageColume(2,40,PAGE_SET);
	SetPageColume(2,12,PAGE_SET);
	display_gb18030_string(temp_data,5,0,0);


//=============================================================
  //SetPageColume(2,32+8*6+4,PAGE_SET);
  SetPageColume(2,12+8*5+6,PAGE_SET);
	display_gb18030_string(day_week_code[(temp_week)],strlen((const char *)day_week_code[(temp_week)]),0,0);
	Display_Battery(104);
	if(Protocol_check_BT_connected()==1)
	{
	display_LOGO_message(0,2,104,16,BLUETOOTH_CONNECT_16x16);
	}
	else
	{ 		
	 display_LOGO_message(0,2,104,16,BLUETOOTH_DISCONNECT_16x16);
	}


}

static uint8_t display_GetStringLen(const unsigned char *text,uint8_t len)
{
	unsigned char  i= 0,char_width=0;
	while((len>0x00))
	{
		if(((text[i]>=0x20)  && (text[i]<=0x7f)) || ((text[i] == 0x01))) /*ascii*/
		{

			i += 1;
			len -=1;
            char_width += (unsigned char)8;

		}
		else if((text[i] >= 0x81) && (text[i] <= 0xfe))
		{
			if(len >= 2)
			{
				if((text[i+1] >= 0x40) && (text[i+1] <= 0xfe))
				{

					i += 2;
					len -= 2;
                    char_width += (unsigned char)16;

				}
				else if((text[i+1] >= 0x30) && (text[i+1] <= 0x39))
				{
					if(len >= 4)
					{
						i += 4;
						len -= 4;
						char_width += (unsigned char)16;
					}
					else
					{
					    len=0;
						return char_width;
					}
				}
				else
				{
					i += 2;
					len -= 2;
					char_width += (unsigned char)16;
				}
			}
			else
			{			
				return char_width;
			}
		}
		else
		{
			len--;
			i++;
			char_width += (unsigned char)8;
			
		}
	}
    return char_width;

}
static uint8_t Get_disp_start_colume(const unsigned char * data_srt,uint8_t temp_length)
{
    uint8_t temp2=0;
	temp2=display_GetStringLen(data_srt,temp_length);
	if(LCD_LOG_COLUME_START>=temp2)
	{
	temp2 = ((LCD_LOG_COLUME_START-temp2)/2);
	}
	else
	{
     temp2=0;
	}
    return temp2;
}
void display_IncomingCall(uint8_t flag,unsigned char * data_srt,uint8_t temp_length)
{
  unsigned char start_line=0;
	if(check_LCDDispCanChange())
		return;	
	if(flag)
	{
	   clear_AllScreen();
	   lcd_power_control(LCD_OPEN);
		 display_LOGO_message(0,2,56,16,INCOMING_ICON_SMALL);//display CLOCK icon	
		 start_line=Get_string_width(data_srt,temp_length)*8;
		  if(LCD_LOG_COLUME_START>start_line)
			  start_line=((LCD_LOG_COLUME_START-start_line)/2);
		  else
			  start_line=0;		 
		 SetPageColume(2,start_line,PAGE_SET);
     display_gb18030_string((const unsigned char*)data_srt,temp_length,0,0);		 
     Display_delay_set(DISP_INCOMING_LOGO_DELAY);
     Set_lastDisplayTag(DISP_TAG_INCOMING_CALL);
		 MotorCtr(1,MOTOR_TYPE_ALARM);
	}
	else
	{
	 if(Get_lastDisplayTag()==DISP_TAG_INCOMING_CALL)
	 {
     Set_lastDisplayTag(DISP_TAG_NULL);
		 Display_delay_set(0);
		 clear_AllScreen();
	 	 lcd_power_control(LCD_CLOSE);
		 MotorCtr(0,MOTOR_TYPE_ALARM);
	 }
	}

}
/*
void display_Keymode(KEY_MODE temp_mode)
{

    //unsigned char temp_data[16];//+strlen(day_year_code)+strlen(day_month_code)+strlen(day_day_code)+strlen(day_week_code[(temp_week)])];
	uint8_t temp = 0,temp2=0;
	
	temp = strlen((const char *)key_mode_code[temp_mode]);
	
	if(check_LCDDispCanChange())
		return;	

	lcd_power_control(LCD_OPEN);
	
	//if(check_lastDisplayTag(DISP_TAG_KEYMODE))
	//{
	display_check_to_clear_Screen();

	//}
	
	//LcdDispPara.lcd_col = ((LCD_MATRIX_WIDTH-display_GetStringLen(key_mode_code[temp_mode],temp))/2);
	temp2=display_GetStringLen(key_mode_code[temp_mode],temp);
	if(LCD_LOG_COLUME_START>=temp2)
	{
	LcdDispPara.lcd_col = ((LCD_LOG_COLUME_START-temp2)/2);
	LcdDispPara.lcd_page = 1;
	}
	else
	{
		LcdDispPara.lcd_col =0;
		LcdDispPara.lcd_page =0;
	}

	//SetPageColume(0,Get_disp_start_colume(key_mode_code[temp_mode],temp),PAGE_SET);
	display_gb18030_string(key_mode_code[temp_mode], temp, 0, 0);
	
	Display_delay_set(DISP_MODE_DELAY, 100);
	Set_lastDisplayTag(DISP_TAG_KEYMODE);
	
}*/
static void Display_sysTime(UINT8 candisp_flag)
{
       s_tm t_tm;
	   if(candisp_flag==DISP_TIME_LATER)
	   {
		   if(check_StrCanDisplay())
		   {
		   	return;
		   }
	   }
	   if(Motor_str.Motor_dispAlarm_flag==1)
	   	return;
	   lcd_power_control(LCD_OPEN);	
			t_tm.hour=0;
			t_tm.year=0;
			t_tm.month=0;
			t_tm.day=0;
			t_tm.weekdays=0;
			t_tm.minute=0;
			t_tm.second=0;		 
	   system_time_get(&t_tm);	   
	   display_day_clock(t_tm.year,t_tm.month,t_tm.day,t_tm.weekdays,t_tm.hour,t_tm.minute,t_tm.second);//candisp_flag);
	   //Display_delay_set(DISP_LOGO_DELAY);
	   //Set_lastDisplayTag(DISP_TAG_SYSTIME_SLAVE);	
}
static void Display_Key_Version(void)
{
    unsigned char temp=0;	
	unsigned char dis_data[32];
	//unsigned char* str="系统";
	//unsigned char* str2="版本";
	unsigned char* str="版本";
	//unsigned char keyid[FLASH_GET_LENGTH];
	//unsigned short temp_len=0;


	
    SetPageColume(0,0,PAGE_SET);//SetPageColume(0,38,PAGE_SET);
    display_gb18030_string((const unsigned char*)str,4,0,0);
	//SetPageColume(2,0,PAGE_SET);//SetPageColume(0,38,PAGE_SET);
  //  display_gb18030_string((const unsigned char*)str2,4,0,0);

	Get_HWVersion(dis_data,&temp);
	SetPageColume(0,40,PAGE_SET);
    display_gb18030_string((const unsigned char*)dis_data,temp,0,0);


	SetPageColume(2,40,PAGE_SET);
	etSpim1ReadNorFlashStdMode(KEYID_START_ADDR+COS_VERSION_TAG1_ADDR_OFFSET,dis_data,32);
  if((dis_data[0]==MAC_VALID_TAG1) && (dis_data[1]==MAC_VALID_TAG2))
  {
		display_gb18030_string((const unsigned char*)dis_data+3,dis_data[2],0,0);
	}
	else
	{
	 Get_COSVersion(dis_data,&temp);
   display_gb18030_string((const unsigned char*)dis_data,temp,0,0);	
	}

}



/*
static void Display_BT_and_Batt_Status(void)
{
	unsigned char* stem_code1="BT not connected";
	unsigned char* stem_code2="BT connected";
	unsigned char* stem_code3="RemaBatt";
	unsigned char* stem_code4="Charging";
	unsigned char temp=0;
	uint8_t pin[4];
	if(Protocol_check_BT_connected()==1)
	{
		SetPageColume(0,0,PAGE_SET);
		temp =strlen((const char*)stem_code1);
		display_gb18030_string(stem_code1,temp,0,0);	
	}
	else
	{
		SetPageColume(0,0,PAGE_SET);
		temp =strlen((const char*)stem_code2);
		display_gb18030_string(stem_code2,temp,0,0);
	}
	if(USB_detect())
	{ 	
		
		SetPageColume(2,0,PAGE_SET);
		temp =strlen((const char*)stem_code4);
		display_gb18030_string(stem_code4,temp,0,0);

		SetPageColume(2,temp*8,PAGE_SET);
		
        temp=Get_BatteryAsciiPercent(pin);
		display_gb18030_string(pin,temp,0,0);

	    pin[0]='%';
	    display_gb18030_string(pin,1,0,0);		
		

	}
	else
	{
		SetPageColume(2,0,PAGE_SET);
		temp =strlen((const char*)stem_code3);
		display_gb18030_string(stem_code3,temp,0,0);

		SetPageColume(2,temp*8,PAGE_SET);
		
        temp=Get_BatteryAsciiPercent(pin);
		display_gb18030_string(pin,temp,0,0);

	    pin[0]='%';
	    display_gb18030_string(pin,1,0,0);

	}
	Set_lastDisplayTag(DISP_TAG_BT_BATT_STATUS);


}
*/
static void Display_CheckMenuMode(UINT8 key_value)
{

	switch(key_value)
	{
		case UP_KEY:
		{
			 switch(disp_str.LCD_disp_MainMenu)
			 {	 
				 case KeyBoard_Down_2_DISP_RSSI:
					 /*if(disp_str.LCD_disp_SlaveMenu!=KeyBoard_Down_2_DISP_Slave_NULL)
					 {
					 break;
					 }*/
				 case KeyBoard_Down_2_DISP_STEP_NUM:
				 case KeyBoard_Down_2_DISP_DISTANCE:
				 case KeyBoard_Down_2_DISP_ENERGY:
				 case KeyBoard_Down_2_DISP_ID:
				 case KeyBoard_Down_2_DISP_SLEEP_STATUS:
				 //case KeyBoard_Down_2_DISP_STATUS:
				 case KeyBoard_Down_2_DISP_VERSION:
				 case KeyBoard_Down_2_DISP_SYS_TIME:
				 default:
				 {
				 	 if(disp_str.LCD_disp_MainMenu<KeyBoard_Down_2_DISP_STEP_NUM)
				 	 {
                      disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_STEP_NUM;
					  break;
					 }
					 disp_str.LCD_disp_MainMenu++;
					 if(disp_str.LCD_disp_MainMenu>=KeyBoard_Down_2_DISP_MAX)
					 {
				       disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_STEP_NUM;
					 }
					 else if(disp_str.LCD_disp_MainMenu<KeyBoard_Down_2_DISP_STEP_NUM)
					 {
			           disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_STEP_NUM;
					 }
					 disp_str.LCD_disp_SlaveMenu=KeyBoard_Down_2_DISP_Slave_NULL;
					 //if(disp_str.LCD_disp_PassWd_count!=0)
					 //clear_password_buffer();
				 }
				 break;
			 }
			 
		}
		//DbgPrintf("UP_KEY,main=%d,slave=%d\r\n",disp_str.LCD_disp_MainMenu,disp_str.LCD_disp_SlaveMenu);
		break;
		case DOWN_KEY:
		{
			switch(disp_str.LCD_disp_MainMenu)
			{ 
				 
				 case KeyBoard_Down_2_DISP_RSSI:				 
				 {
					 /*if(disp_str.LCD_disp_SlaveMenu!=KeyBoard_Down_2_DISP_Slave_NULL)
					 {
					 break;
					 }*/
				 }
				 case KeyBoard_Down_2_DISP_STEP_NUM:
				 case KeyBoard_Down_2_DISP_DISTANCE:
				 case KeyBoard_Down_2_DISP_ENERGY:
				 case KeyBoard_Down_2_DISP_ID:
				 case KeyBoard_Down_2_DISP_SLEEP_STATUS:
				 //case KeyBoard_Down_2_DISP_STATUS:
				 case KeyBoard_Down_2_DISP_SYS_TIME:
				 case KeyBoard_Down_2_DISP_VERSION:
				 default:
				 	 if(disp_str.LCD_disp_MainMenu<KeyBoard_Down_2_DISP_STEP_NUM)
				 	 {
                      disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_STEP_NUM;
					  break;
					 }

					disp_str.LCD_disp_MainMenu--;
					if(disp_str.LCD_disp_MainMenu<KeyBoard_Down_2_DISP_STEP_NUM)
					{
					  disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_MAX-1;
					}
					else if(disp_str.LCD_disp_MainMenu>=KeyBoard_Down_2_DISP_MAX)
					{
					  disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_MAX-1;
					}				 	
				 	disp_str.LCD_disp_SlaveMenu=KeyBoard_Down_2_DISP_Slave_NULL;
					//if(disp_str.LCD_disp_PassWd_count!=0)
					//clear_password_buffer();
				 break;
			 }

		}
		//DbgPrintf("DOWN_KEY,main=%d,slave=%d\r\n",disp_str.LCD_disp_MainMenu,disp_str.LCD_disp_SlaveMenu);
		break;
		case OK_KEY:
		{

		   switch(disp_str.LCD_disp_MainMenu)
		   {
			 case KeyBoard_Down_2_DISP_RSSI:

			 if(disp_str.LCD_disp_SlaveMenu==KeyBoard_Down_2_DISP_Slave_NULL)
			 {
	           disp_str.LCD_disp_SlaveMenu=KeyBoard_Down_2_DISP_Slave_MAX-1;//KeyBoard_Down_2_DISP_Slave_UPDATED;
			 }			 	
			 break;
			 case KeyBoard_Down_2_DISP_STEP_NUM:
			 case KeyBoard_Down_2_DISP_DISTANCE:
			 case KeyBoard_Down_2_DISP_ENERGY:
			 case KeyBoard_Down_2_DISP_ID:
			 case KeyBoard_Down_2_DISP_SLEEP_STATUS:
			 case KeyBoard_Down_2_DISP_SYS_TIME:
			 case KeyBoard_Down_2_DISP_VERSION:
			 //case KeyBoard_Down_2_DISP_STATUS:
			 default:
			 	disp_str.LCD_disp_SlaveMenu=KeyBoard_Down_2_DISP_Slave_NULL;
			 break;
		   }

		}
		//DbgPrintf("OK_KEY,main=%d,slave=%d\r\n",disp_str.LCD_disp_MainMenu,disp_str.LCD_disp_SlaveMenu);
		break;
		case CANCEL_KEY:	
           disp_str.LCD_disp_SlaveMenu=KeyBoard_Down_2_DISP_Slave_NULL;
           //if(disp_str.LCD_disp_PassWd_count!=0)
			//clear_password_buffer();
		//DbgPrintf("CANCEL_KEY,main=%d,slave=%d\r\n",disp_str.LCD_disp_MainMenu,disp_str.LCD_disp_SlaveMenu);
		break;
		default:
		break;
	}


}
/*
static void Display_slave_menu(UINT8 temp_slave_menu)
{
   UINT8 temp=0;
   switch(temp_slave_menu)
   {
     // case KeyBoard_Down_2_DISP_Slave_NULL:
	 // {
	 // 	 UINT8* disp_data="固件升级";
	//	 UINT8* disp_data2="按OK键进入";
	//	 SetPageColume(0,0,PAGE_SET);
	 //    display_gb18030_string(disp_data,strlen((const char *)disp_data),0,0);
	//	 SetPageColume(2,0,PAGE_SET);
	//	 display_gb18030_string(disp_data2,strlen((const char *)disp_data2),0,0);
	 // }
	//  break;
	  case KeyBoard_Down_2_DISP_Slave_UPDATED:
	  {
	  	 UINT8* disp_data="USB未连接";
		 UINT8* disp_data2="password:";
		 UINT8* disp_data3="error";
         if(USB_detect())
         {
			 SetPageColume(0,0,PAGE_SET);
			 display_gb18030_string(disp_data2,strlen((const char *)disp_data2),0,0);
			 clear_secterScreen(2,2,0,LCD_LOG_COLUME_START);
			 SetPageColume(2,0,PAGE_SET);
			 display_gb18030_string(updated_password,disp_str.LCD_disp_PassWd_count,0,0);
			 for(temp=0;temp<disp_str.LCD_disp_PassWd_count;)
			 {
			   if(updated_password[temp]==UPDATE_PW_CHECK[temp])
			   {
			   	temp++;
			   }
			   else
			   {
			   	break;
			   }

			 }
			 if(temp==UPDATED_PASSWORD_NUM)
			 {
			   //lcd_power_control(LCD_CLOSE);
			   //BtApiBack(0x55555555, 0xAAAAAAAA);
		     //  ScuSysReset();			   
			 }
			 else
			 {
               if(disp_str.LCD_disp_PassWd_count==UPDATED_PASSWORD_NUM)
               {
                  clear_secterScreen(2,2,0,LCD_LOG_COLUME_START);
				  SetPageColume(2,0,PAGE_SET);
				  display_gb18030_string(disp_data3,strlen((const char *)disp_data3),0,0);
                  clear_password_buffer();
			   }
			 }

		 }
		 else
		 {
			 SetPageColume(1,16,PAGE_SET);
			 display_gb18030_string(disp_data,strlen((const char *)disp_data),0,0);

		 }
	  }
	  break;

   }

}
*/
/*
static void Display_Key_Status(void)
{
		 s_tm t_tm;
		 uint8_t colume_offset=0,temp2=0;  
		 //unsigned char temp_data[16];//+strlen(day_year_code)+strlen(day_month_code)+strlen(day_day_code)+strlen(day_week_code[(temp_week)])];
		//UINT32 temp_number=0;
		//unsigned char pin[12];
		//unsigned char temp=0,temp2=0,temp_length=0;
		

		 temp2=5*DEFAULT_CLOCK_WIDTH+8;
		 if(LCD_MATRIX_WIDTH>temp2)
			 temp2=((LCD_MATRIX_WIDTH-temp2)/2);
		 else
			 temp2=0; 
		 colume_offset=temp2;
		lcd_power_control(LCD_OPEN);
		//if(check_lastDisplayTag(DISP_TAG_IDLE_LOGO))
		//{
		//	 display_check_to_clear_Screen();
		//}
		 system_time_get(&t_tm);
		 //===disp clock=======================
		 
		 temp2=(t_tm.hour/10) &0x03;
		 if(temp2>0)
		 {
		 display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[temp2]);
		 }
		 else
		 {	 
			display_LOGO_message(0,4,colume_offset,12,BLUETOOTH_0x00);
		 }
		 colume_offset +=12;
		// SetPageColume(0,colume_offset,PAGE_SET);
		 temp2=(t_tm.hour%10) &0x0F;
		 display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[temp2]);
		 colume_offset +=12;
		// SetPageColume(0,colume_offset,PAGE_SET);
		 display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[10]); 
		 colume_offset +=12;
		// SetPageColume(0,colume_offset,PAGE_SET);  
		 temp2=(t_tm.minute/10) &0x0f;
		 display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[temp2]);
		 colume_offset +=12;
		// SetPageColume(0,colume_offset,PAGE_SET);
		 temp2=(t_tm.minute%10) &0x0f;
		 display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[temp2]);
			colume_offset +=12;
		
		 display_LOGO_message(0,4,colume_offset,8,BLUETOOTH_0x00);
		 colume_offset +=8;
		
		 //==disp BT================================

		 if(Protocol_check_BT_connected()==1)
		 {
		 display_LOGO_message(0,2,colume_offset,16,BLUETOOTH_CONNECT_16x16);
		 }
		 else
		 {		 
			display_LOGO_message(0,2,colume_offset,16,BLUETOOTH_DISCONNECT_16x16);
		 }
		 
		 //=================display battery====================
		 Display_Battery(colume_offset);
		 //if(check_lastDisplayTag(DISP_TAG_IDLE_LOGO)==0)
		 //{
			// clear_secterScreen(2,2,colume_offset+16,32);
		 //}
}
*/
void Dislay_Test_LCD(void)
{
	if(check_StrCanDisplay())
	{ 
	 return;
	}
	
	if(check_lastDisplayTag(DISP_TAG_TEST_LCD))
	{
	   unsigned char temp_data[128];
		 unsigned char count=0;
		 for(count=0;count<128;count++)
		 	temp_data[count]=0xff;
		 
	   lcd_power_control(LCD_OPEN);
		 display_check_to_clear_Screen();
		 display_LOGO_message(0,1,0,LCD_MATRIX_WIDTH,temp_data);
		 display_LOGO_message(1,1,0,LCD_MATRIX_WIDTH,temp_data);
		 display_LOGO_message(2,1,0,LCD_MATRIX_WIDTH,temp_data);
		 display_LOGO_message(3,1,0,LCD_MATRIX_WIDTH,temp_data);
		 Set_lastDisplayTag(DISP_TAG_TEST_LCD);
		 Display_delay_set(2);			 
	}
	

}
BOOL Display_idle_logo(void)
{

  s_tm t_tm;
  uint8_t colume_offset=0;  
  //unsigned char temp_data[16];//+strlen(day_year_code)+strlen(day_month_code)+strlen(day_day_code)+strlen(day_week_code[(temp_week)])];
 UINT32 temp_number=0,temp_number2=0;
 unsigned char pin[12];
 unsigned char temp=0,temp2=0,temp_length=0;

 if(check_StrCanDisplay())
 { 
  return FALSE;
 }
   temp_number=app_arthmetic_get_total_steps();
	 temp_number2=temp_number;
  temp=0;
  do
  {
	pin[temp]=(temp_number) % 10;
	temp_number=(temp_number) /10;
	temp++;
  }while(temp_number!=0);
	/*if(temp<6)
	{
  	temp2=5*DEFAULT_CLOCK_WIDTH+DEFAULT_STEP_WIDTH+temp*8+8;
	}
	else
	{
		temp2=5*DEFAULT_CLOCK_WIDTH+DEFAULT_STEP_WIDTH+temp*8;
	}
  if(LCD_MATRIX_WIDTH>temp2)
	  temp2=((LCD_MATRIX_WIDTH-temp2)/2);
  else*/
	  temp2=0; 
  colume_offset=temp2;
 lcd_power_control(LCD_OPEN);
 if(check_lastDisplayTag(DISP_TAG_IDLE_LOGO))
 {
    display_check_to_clear_Screen();
 }
  system_time_get(&t_tm);
  //===disp clock=======================
  
  temp2=(t_tm.hour/10) &0x03;
  if(temp2>0)
  {
  display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[temp2]);
  }
  else
  {	  
   display_LOGO_message(0,4,colume_offset,12,BLUETOOTH_0x00);
  }
  colume_offset +=12;
 // SetPageColume(0,colume_offset,PAGE_SET);
  temp2=(t_tm.hour%10) &0x0F;
  display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[temp2]);
  colume_offset +=12;
 // SetPageColume(0,colume_offset,PAGE_SET);
  display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[10]); 
  colume_offset +=12;
 // SetPageColume(0,colume_offset,PAGE_SET);  
  temp2=(t_tm.minute/10) &0x0f;
  display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[temp2]);
  colume_offset +=12;
 // SetPageColume(0,colume_offset,PAGE_SET);
  temp2=(t_tm.minute%10) &0x0f;
  display_LOGO_message(0,4,colume_offset,12,DIGITAL_ICON_32x12[temp2]);
   colume_offset +=12;
	if(temp<6)
	{
	display_LOGO_message(0,4,colume_offset,8,BLUETOOTH_0x00);
	colume_offset +=8;
	}
  //==disp step Num================================

  
  for(temp_length=0;temp_length<temp;temp_length++)   
  { 	
	pin[temp_length]=pin[temp_length]+0x30;
  }
  for(temp_length=0;temp_length<(temp/2);temp_length++)
  {
	temp2=pin[temp_length];
	pin[temp_length]=pin[temp-temp_length-1];
	pin[temp-temp_length-1]=temp2;
  }
	//===========================
  for(temp_length=temp;temp_length<6;temp_length++)   
  { 	
	pin[temp_length]=32;
  }
  display_LOGO_message(0,2,colume_offset,DEFAULT_STEP_WIDTH,STEP_ICON_SMALL);
	
  SetPageColume(0,colume_offset+DEFAULT_STEP_WIDTH,PAGE_SET);
  
  //if(temp>6)		
	if(temp_number2>999999)
  {
  display_gb18030_string("99999+",strlen("99999+"),0,0);
  }
  else  
  {
  if(temp<6)
  display_gb18030_string(pin,5,0,0);
	else
	display_gb18030_string(pin,6,0,0);
  }
  //clear_secterScreen(2,2,colume_offset,LCD_LOG_COLUME_START-colume_offset);
  
  Display_Battery(colume_offset+2);
	 if(Protocol_check_BT_connected()==1)
	 {
	 display_LOGO_message(2,2,colume_offset+18,16,BLUETOOTH_CONNECT_16x16);
	 }
	 else
	 {		 
		display_LOGO_message(2,2,colume_offset+18,16,BLUETOOTH_0x00);
	 }
  //if(check_lastDisplayTag(DISP_TAG_IDLE_LOGO)==0)
  //{
  //	clear_secterScreen(2,2,colume_offset+16,32);
  //}
  Set_lastDisplayTag(DISP_TAG_IDLE_LOGO);
  disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_IDLE;
  	return TRUE;

	//s_tm t_tm;
	//uint8_t colume_offset=0;  
	//UINT32 temp_number=0;
	//unsigned char pin[12];
	//unsigned char temp=0,temp2=0,temp_length=0;

/*	
	if(check_StrCanDisplay())
	{ 
	 return FALSE;
	}
	if(check_lastDisplayTag(DISP_TAG_IDLE_LOGO))
	{
		 display_check_to_clear_Screen();
	}
	Display_Key_Status();
	
	 Set_lastDisplayTag(DISP_TAG_IDLE_LOGO);
	 disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_IDLE;
		 return TRUE;
*/
		
}


void Check_RSSI_display(void)
{
//  signed char *p_rssi=0;
	if(check_lastDisplayTag(DISP_TAG_RSSI_SLAVE))
		return;
	if((Protocol_check_BT_connected()==0))
	{
	  Display_delay_set(1);
		return;
	}
	
	if(disp_str_rssi.LCD_disp_Rssi_data_ready==1)
	{
   display_Rssi_distance(disp_str_rssi.LCD_disp_rssi_value,LCD_RSSI_GET_SUCCESS);
	 disp_str_rssi.LCD_disp_Rssi_data_ready=0;
   start_Rssi();
	 
	}

}


static void Display_Menu(UINT8 key_value)
{
	unsigned char temp=0;

	if(check_LCDDispCanChange())	
		return;
	//ke_timer_clear(USR_CHECK_RSSI);	
	if((disp_str.LCD_disp_MainMenu==KeyBoard_Down_2_DISP_NULL)&&(disp_str.LCD_disp_SlaveMenu==KeyBoard_Down_2_DISP_Slave_NULL))
	{  	  
	  Display_idle_logo();
	  key_value=NO_KEY;
	  Display_delay_set(DISP_LOGO_DELAY);
	  disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_IDLE;
	  
	}

	if(key_value==NO_KEY)
	return;
	
    
	Display_CheckMenuMode(key_value);
	//DbgPrintf("SlaveMenu:0x%x,MainMenu=0x%x \r\n",disp_str.LCD_disp_SlaveMenu,disp_str.LCD_disp_MainMenu);
	if((disp_str.LCD_disp_SlaveMenu!=KeyBoard_Down_2_DISP_Slave_UPDATED) &&(disp_str.LCD_disp_MainMenu!=KeyBoard_Down_2_DISP_RSSI))
	{
		Get_Rssi_stop();
	}
   if(disp_str.LCD_disp_SlaveMenu==KeyBoard_Down_2_DISP_Slave_NULL)
   {
     switch(disp_str.LCD_disp_MainMenu)
     {
        
        case KeyBoard_Down_2_DISP_STEP_NUM:
		{
			//unsigned char* stem_code1="运动步数";
			if(Get_lastDisplayTag()!=DISP_TAG_STEP_NUM)
			{
			
			clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			lcd_power_control(LCD_OPEN);
			//temp =strlen((const char*)stem_code1);
			//SetPageColume(0,Get_disp_start_colume(stem_code1,temp),PAGE_SET);
			//display_gb18030_string(stem_code1,temp,0,0);			
		    display_step_distance_engery(KeyBoard_Down_2_DISP_STEP_NUM);
			}
			Display_delay_set(DISP_LOGO_DELAY);		
			Set_lastDisplayTag(DISP_TAG_STEP_NUM);
			
        }	
		break;
        case KeyBoard_Down_2_DISP_DISTANCE:
		{
			//unsigned char* stem_code1="运动里程";
			if(Get_lastDisplayTag()!=DISP_TAG_DISTANCE)
			{
			clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			lcd_power_control(LCD_OPEN);

			//temp =strlen((const char*)stem_code1);
			//SetPageColume(0,Get_disp_start_colume(stem_code1,temp),PAGE_SET);
			//display_gb18030_string(stem_code1,temp,0,0);
			

			display_step_distance_engery(KeyBoard_Down_2_DISP_DISTANCE);
			}
			Display_delay_set(DISP_LOGO_DELAY);		
			Set_lastDisplayTag(DISP_TAG_DISTANCE);

		}	
		break;	
        case KeyBoard_Down_2_DISP_ENERGY:
		{
			//unsigned char* stem_code1="消耗能量";
			if(Get_lastDisplayTag()!=DISP_TAG_ENERGE)
			{
			clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			lcd_power_control(LCD_OPEN);

			//temp =strlen((const char*)stem_code1);
			//SetPageColume(0,Get_disp_start_colume(stem_code1,temp),PAGE_SET);
			//display_gb18030_string(stem_code1,temp,0,0);
			

			display_step_distance_engery(KeyBoard_Down_2_DISP_ENERGY);
			}
			Display_delay_set(DISP_LOGO_DELAY);		
			Set_lastDisplayTag(DISP_TAG_ENERGE);
		}
		break;
		case KeyBoard_Down_2_DISP_SLEEP_STATUS:
		{
//=============
			//unsigned char* stem_code1="消耗能量";
			if(Get_lastDisplayTag()!=DISP_TAG_SLEEP_STATUE)
			{
			clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			lcd_power_control(LCD_OPEN);

			

			display_step_distance_engery(KeyBoard_Down_2_DISP_SLEEP_STATUS);
			}
			Display_delay_set(DISP_LOGO_DELAY);		
			Set_lastDisplayTag(DISP_TAG_SLEEP_STATUE);							

		}
		break;
		case KeyBoard_Down_2_DISP_SLEEP_TIME:
		{
//=============
			//unsigned char* stem_code1="消耗能量";
			if(Get_lastDisplayTag()!=DISP_TAG_SLEEP_TIME)
			{
			clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			lcd_power_control(LCD_OPEN);

			

			display_step_distance_engery(KeyBoard_Down_2_DISP_SLEEP_TIME);
			}
			Display_delay_set(DISP_LOGO_DELAY);		
			Set_lastDisplayTag(DISP_TAG_SLEEP_TIME);							

		}			
		break;
		case KeyBoard_Down_2_DISP_ID:
		{
				unsigned char* stem_code1="ID";//"手环ID";
#if ENABLE_GET_FLASH_ID
				unsigned char keyid[42];
#endif
				if(Get_lastDisplayTag()!=DISP_TAG_ID)
				{
				clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();				
				lcd_power_control(LCD_OPEN);
				//SetPageColume(0,0,PAGE_SET);
				temp =strlen((const char*)stem_code1);
				SetPageColume(0,Get_disp_start_colume(stem_code1,temp),PAGE_SET);
				display_gb18030_string(stem_code1,temp,0,0);
				
				//SetPageColume(1,32,PAGE_SET);
				//display_LOGO_message(1,2,GetColume(),16,STEP_ICON);
				//SetPageColume(1,56,PAGE_SET);
				//display_stepNUM(KeyBoard_Down_2_DISP_STEP_NUM);
				//SetPageColume(2,0,PAGE_SET);
				//temp =strlen((const char*)stem_code);
				//display_gb18030_string(stem_code,temp,0,0);
				//display_step_distance_engery(KeyBoard_Down_2_DISP_ENERGY);
#if ENABLE_GET_FLASH_ID				
    		//etRead_KEYID_from_flash(keyid,30);
    		etSpim1ReadNorFlashStdMode(KEYID_START_ADDR,keyid,40);
					if((keyid[TAG1_ADDR_OFFSET]==MAC_VALID_TAG1) && (keyid[TAG2_ADDR_OFFSET]==MAC_VALID_TAG2))
					{			
					SetPageColume(2,Get_disp_start_colume(keyid+KEYID_DATA_ADDR_OFFSET,keyid[2]),PAGE_SET);
					display_gb18030_string(keyid+KEYID_DATA_ADDR_OFFSET,keyid[KEYID_LENGHT_ADDR_OFFSET],0,0);					
					}				
	        else
#endif
	        {
					temp =strlen((const char*)DEVICE_NAME);
					SetPageColume(2,Get_disp_start_colume(DEVICE_NAME,temp),PAGE_SET);
					display_gb18030_string(DEVICE_NAME,temp,0,0);
	        }
				}
				Display_delay_set(DISP_KEYID_DELAY); 	
				Set_lastDisplayTag(DISP_TAG_ID);

		}
		break;
        case KeyBoard_Down_2_DISP_SYS_TIME:
		{
			//unsigned char* stem_code="按OK键查询";
			//unsigned char* stem_code1="Date";//"日期时间";
			if(Get_lastDisplayTag()!=DISP_TAG_SYSTIME)
			{
			/*clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			
            lcd_power_control(LCD_OPEN);
			//SetPageColume(0,0,PAGE_SET);
			temp =strlen((const char*)stem_code1);
			SetPageColume(0,Get_disp_start_colume(stem_code1,temp),PAGE_SET);
			display_gb18030_string(stem_code1,temp,0,0);			

			temp =strlen((const char*)stem_code);
			SetPageColume(2,Get_disp_start_colume(stem_code,temp),PAGE_SET);
			display_gb18030_string(stem_code,temp,0,0);	*/
			}
			if(Get_lastDisplayTag()!=DISP_TAG_SYSTIME)
			{
			 clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			
			//lcd_power_control(LCD_OPEN);
			 Display_sysTime(DISP_TIME_RIGHTNOW);
			}
			Display_delay_set(DISP_LOGO_DELAY);		
	        Set_lastDisplayTag(DISP_TAG_SYSTIME);


		}
		break;

		case KeyBoard_Down_2_DISP_RSSI:
	    {
			unsigned char* stem_code="按OK查询";
			unsigned char* stem_code1="查找手机";
			if(Get_lastDisplayTag()!=DISP_TAG_RSSI)
			{
			 clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			
            lcd_power_control(LCD_OPEN);
			//SetPageColume(0,0,PAGE_SET);
			temp =strlen((const char*)stem_code1);
			SetPageColume(0,Get_disp_start_colume(stem_code1,temp),PAGE_SET);
			display_gb18030_string(stem_code1,temp,0,0);
			
			//SetPageColume(1,32,PAGE_SET);
			//display_LOGO_message(1,2,GetColume(),16,STEP_ICON);
			//SetPageColume(1,56,PAGE_SET);
			//display_stepNUM(KeyBoard_Down_2_DISP_STEP_NUM);
			//SetPageColume(2,0,PAGE_SET);
			temp =strlen((const char*)stem_code);
			SetPageColume(2,Get_disp_start_colume(stem_code,temp),PAGE_SET);
			display_gb18030_string(stem_code,temp,0,0);	
			}
			Display_delay_set(DISP_LOGO_DELAY);		
            Set_lastDisplayTag(DISP_TAG_RSSI);

		}
		break;
		case KeyBoard_Down_2_DISP_VERSION:
	    {
			//unsigned char* stem_code="按OK查询";
			//unsigned char* stem_code1="系统版本";
			if(Get_lastDisplayTag()!=DISP_TAG_VERSION)
			{
			 clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			
			lcd_power_control(LCD_OPEN);
			/*temp =strlen((const char*)stem_code1);
			SetPageColume(0,Get_disp_start_colume(stem_code1,temp),PAGE_SET);
			display_gb18030_string(stem_code1,temp,0,0);
			

			temp =strlen((const char*)stem_code);
			SetPageColume(2,Get_disp_start_colume(stem_code,temp),PAGE_SET);
			display_gb18030_string(stem_code,temp,0,0);	
			*/
			Display_Key_Version();
			}
			Display_delay_set(DISP_LOGO_DELAY);		
            Set_lastDisplayTag(DISP_TAG_VERSION);

		}
		break;
		/*case KeyBoard_Down_2_DISP_STATUS:
	    {
			if(Get_lastDisplayTag()!=DISP_TAG_STATUS)
			{
			 clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();			
			 lcd_power_control(LCD_OPEN);

			Display_Key_Status();
			
			}
			Display_delay_set(DISP_LOGO_DELAY);		
            Set_lastDisplayTag(DISP_TAG_STATUS);

		}			
		break;
		
        case  KeyBoard_Down_2_DISP_UPDATED:
		{
			unsigned char* stem_code="按OK键进入";
			unsigned char* stem_code1="固件升级";
			if(Get_lastDisplayTag()!=DISP_TAG_UPDATED)
			{
			 clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
			
            lcd_power_control(LCD_OPEN);
			temp =strlen((const char*)stem_code1);
			SetPageColume(0,Get_disp_start_colume(stem_code1,temp),PAGE_SET);
			//SetPageColume(0,(LCD_LOG_COLUME_START-temp),PAGE_SET);
			
			display_gb18030_string(stem_code1,temp,0,0);
			
			//SetPageColume(1,32,PAGE_SET);
			//display_LOGO_message(1,2,GetColume(),16,STEP_ICON);
			//SetPageColume(1,56,PAGE_SET);
			//display_stepNUM(KeyBoard_Down_2_DISP_STEP_NUM);
			//SetPageColume(2,0,PAGE_SET);
			temp =strlen((const char*)stem_code);
			SetPageColume(2,Get_disp_start_colume(stem_code,temp),PAGE_SET);
			display_gb18030_string(stem_code,temp,0,0);		
			}
			Display_delay_set(DISP_LOGO_DELAY,100);
            Set_lastDisplayTag(DISP_TAG_UPDATED);
		}
		break;*/
		default:
		break;		
     	}
	 
   	}
    else
    {
		switch(disp_str.LCD_disp_MainMenu)
		{

				case KeyBoard_Down_2_DISP_RSSI:
				{
					if(Get_lastDisplayTag()!=DISP_TAG_RSSI_SLAVE)
					{
					   
						 clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
						lcd_power_control(LCD_OPEN);
            Set_lastDisplayTag(DISP_TAG_RSSI_SLAVE);
						if(Protocol_check_BT_connected())
						{
						    /*char * str="手机振动中";

						    //display_Rssi_distance(*str,LCD_RSSI_GET_SUCCESS);
						    Protocol_CMD_FIND_AG(SERVICE_STEP);
				        SetPageColume(1,0,PAGE_SET);
			          display_gb18030_string((const unsigned char *)str,strlen(str),0,0);
                */
						    char * str="测量中";
						    
						    //display_Rssi_distance(*str,LCD_RSSI_GET_SUCCESS);
						    Protocol_CMD_FIND_AG(SERVICE_STEP);
				        SetPageColume(1,0,PAGE_SET);
			          display_gb18030_string((const unsigned char *)str,strlen(str),0,0);	
								Display_delay_set(DISP_RSSI_DELAY*2);
								start_Rssi();
						}
						else
						{
							char * str="未连手机";
							SetPageColume(1,0,PAGE_SET);
							display_gb18030_string((const unsigned char *)str,strlen(str),0,0); 
              Display_delay_set(DISP_LOGO_DELAY);
						    //display_Rssi_distance(0,LCD_RSSI_NOT_CONNECTED);//NOT CONNECTED	
						}
					}
					
					
#if (DEBUG_UART_EN)
						DbgPrintf("set distag=%x\r\n",Get_lastDisplayTag());
#endif		
				}
				break;
				/*case KeyBoard_Down_2_DISP_VERSION:
				{
					if(Get_lastDisplayTag()!=DISP_TAG_VERSION_SLAVE)
					{
					 clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
					
					lcd_power_control(LCD_OPEN);
					Display_Key_Version();			
					}
					Display_delay_set(DISP_LOGO_DELAY);
					Set_lastDisplayTag(DISP_TAG_VERSION_SLAVE);
		
				}
				break;
				case  KeyBoard_Down_2_DISP_UPDATED:
				{
				   
					 //UINT8* disp_data="固件升级";
					 //UINT8* disp_data2="按OK键进入";
					 if(Get_lastDisplayTag()!=DISP_TAG_UPDATED_SLAVE)
					 {
					  clear_secterScreen(0,4,0,LCD_LOG_COLUME_START);//clear_AllScreen();
					 }
					 lcd_power_control(LCD_OPEN);
					 //SetPageColume(0,0,PAGE_SET);
					 //display_gb18030_string(disp_data,strlen((const char *)disp_data),0,0);
					 //SetPageColume(2,0,PAGE_SET);
					// display_gb18030_string(disp_data2,strlen((const char *)disp_data2),0,0);
				   Display_slave_menu(disp_str.LCD_disp_SlaveMenu);
				
				   Display_delay_set(DISP_LOGO_DELAY,100);
				   Set_lastDisplayTag(DISP_TAG_UPDATED_SLAVE);
				}
				break;*/
				default:
				break;		
		}

	}

}

//======================jerry below============================================
void display_usb_logo_16x16(unsigned char disp_enable)
{
	//set_display_flg(DISP_START);
	//set_display_flg(DISP_END);
}


#if 0
void dynamic_display_bluetooth_logo(void)
{
	//static long   dynamic_bt_counter = 0;
	static unsigned char  disp_enable = 1;

	if (get_bt_logo_flash_state() == BT_LOGO_FLASH_DISABLE)
		return;

	/*if (((ETGetTimeTick()-dynamic_bt_counter) >= BT_LOGO_FLASH_COUNTER) && (get_display_flg() == DISP_END))
	{
		dynamic_bt_counter = ETGetTimeTick();
		display_bt_logo_16x24(disp_enable);
		disp_enable = !disp_enable;
		
	}*/
	/*if ((get_display_flg() == DISP_END))
	{
		//display_bt_logo_16x24(disp_enable);
		disp_enable = !disp_enable;
		
	}	*/
}
#endif
void display_gb18030_string(const unsigned char *text, unsigned int len, unsigned char row, unsigned char col)
{
	unsigned char  i= 0;
	unsigned char  fontbuf[32] = {0};
	
	unsigned char  line_feed_flg = 1;
#if(ENABLE_GT24L16M1Y_UT==0)	
	unsigned char  char_length=0;
	unsigned long  fontaddr=0;
#endif
	//row=0;
	//col=0;
	//DbgPrintf("display start,len=%x \r\n",len);
	//set_display_flg(DISP_START);
    //SetDisplayRowCol(row, col);
	while((len>0x00))
	{
		if(((text[i]>=0x20)  && (text[i]<=0x7f)) || ((text[i] == 0x01))) /*ascii*/
		{
			line_feed_flg = 0;

			if ((unsigned char)(LcdDispPara.lcd_col + 8) > LCD_LOG_COLUME_START)
				changePage();

			//if (text[i] == 0x01)
			//{
			//	unsigned char tmp_xFF [16] = {0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF};
			//	display_graphic_8x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, (unsigned char*)tmp_xFF);
				//display_graphic_8x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, ICON_0x00);
			//}
			//else
			//{
#if(ENABLE_GT24L16M1Y_UT==0)			
				fontaddr = ascii_addr_calc(text[i]);
				read_font_data(fontaddr, fontbuf, 16);
				display_graphic_8x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, (unsigned char*)fontbuf);
				//display_graphic_8x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, (unsigned char*)&asciiLcdData[text[i]-0x20][0]);
#else
				ASCII_GetData(text[i],ASCII_8X16,fontbuf);
				display_graphic_8x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, (unsigned char*)fontbuf);

#endif
			//}
			i += 1;
			len -=1;

			LcdDispPara.lcd_col += (unsigned char)8;

		}
		else if((text[i] >= 0x81) && (text[i] <= 0xfe))
		{
			line_feed_flg = 0;
			if(len >= 2)
			{
				if((text[i+1] >= 0x40) && (text[i+1] <= 0xfe))
				{
#if(ENABLE_GT24L16M1Y_UT==0)				
					fontaddr = chinese_addr_calc(text[i], text[i+1], 0, 0, &char_length);
					if (char_length == 2)
					{
						read_font_data(fontaddr, fontbuf, 32);
						

						if ((unsigned char)(LcdDispPara.lcd_col +  16) > LCD_LOG_COLUME_START)
							changePage();

						display_graphic_16x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, fontbuf);
						LcdDispPara.lcd_col += (unsigned char)16;
					}
					
#else
                   if ((unsigned char)(LcdDispPara.lcd_col +  16) > LCD_LOG_COLUME_START)
							changePage();
                   hzbmp16(SEL_GB,text[i]<<8|text[i+1],0,32,fontbuf);
				   display_graphic_16x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, fontbuf);
				   LcdDispPara.lcd_col += (unsigned char)16;

#endif
					i += 2;
					len -= 2;


				}
				else if((text[i+1] >= 0x30) && (text[i+1] <= 0x39))
				{
					if(len >= 4)
					{
#if(ENABLE_GT24L16M1Y_UT==0)					
						fontaddr = chinese_addr_calc(text[i],text[i+1],text[i+2],text[i+3],&char_length);
						if (char_length == 4)
						{
							read_font_data(fontaddr,fontbuf,32);

							if ((unsigned char)(LcdDispPara.lcd_col + 16) > LCD_LOG_COLUME_START)
								changePage();

							display_graphic_16x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, fontbuf);
							LcdDispPara.lcd_col += (unsigned char)16;
						}
#else
					if ((unsigned char)(LcdDispPara.lcd_col +  16) > LCD_LOG_COLUME_START)
							 changePage();
					hzbmp16(SEL_GB,text[i]<<8|text[i+1],text[i]<<8|text[i+1],32,fontbuf);
					display_graphic_16x16(LcdDispPara.lcd_page, LcdDispPara.lcd_col, fontbuf);
					LcdDispPara.lcd_col += (unsigned char)16;

#endif
						i += 4;
						len -= 4;
					}
					else
					{
						//set_display_flg(DISP_END);
						return;
					}
				}
				else
				{
					i += 2;
					len -= 2;
				}
			}
			else
			{
				//set_display_flg(DISP_END);
				return;
			}
		}
		else
		{
			if(text[i]=='\n')
			{
				if ((line_feed_flg == 0) && (LcdDispPara.lcd_col == 0))
				{
					line_feed_flg = 1;
				}
				else
					changePage();
			}

			len--;
			i++;

		}
	}
	//set_display_flg(DISP_END);
}



/*
void DisplaySwitchState(unsigned char SW_Value)
{
	switch(SW_Value)
	{
		case UP_KEY:
			display_bt_logo_16x24(BT_LOGO_FLASH_ENABLE);
			break;
		case DOWN_KEY:
			display_bt_logo_16x24(BT_LOGO_FLASH_DISABLE);
			break;
		case OK_KEY:
			display_usb_logo_16x24(USB_LOGO_DISP_ENABLE);
			break;
		case CANCEL_KEY:
			display_usb_logo_16x24(USB_LOGO_DISP_DISABLE);
			break;
		default:
			//display_bt_logo_16x24(BT_LOGO_FLASH_DISABLE);
			break;
	}
}*/


/*****************************************************************************/
/*
void DISP_CLR_ButtonLOGO(unsigned short const msgid)
{
   if((key_Mode_Get()==KEY_MODE_IDLE))
   {

   }
   else if(key_Mode_Get()==KEY_MODE_BTCONNECTED)
   {
     display_LOGO_message(0,2,LCD_LOG_COLUME_START,16,BLUETOOTH_ICON_16x16);
   }
   else if(key_Mode_Get()==KEY_MODE_USB)
   {
     display_LOGO_message(0,2,LCD_LOG_COLUME_START,16,USB_ICON_16x16);
   }
   else
   {
     display_LOGO_message(0,2,LCD_LOG_COLUME_START,16,ICON_0x00);
   }
}*/
void display_clr_COSdata(void)
{
	if(disp_str.LCD_display_last_tag==DISP_TAG_COS_DATA)//add 150825
	{
	 Set_lastDisplayTag(DISP_TAG_NULL);
     Display_delay_set(5);	
	}

}

//lcd上显示up按键logo
/*
static void DisplayUpKeyLogo(void)
{ 
	//display_LOGO_message(0,2,LCD_LOG_COLUME_START,16,display_up_key_logo);
    //ke_timer_set(USR_DISP_CLR_BUTTON_LOGO,20);
}

//lcd上显示down按键logo
static void DisplayDownKeyLogo(void)
{
	  //display_LOGO_message(0,2,LCD_LOG_COLUME_START,16,display_down_key_logo);
      //ke_timer_set(USR_DISP_CLR_BUTTON_LOGO,20);

}

//lcd上显示Enter、Cancel按键logo
//switch_val: 'o'----OK   'c' ----Cancel
//
static void DisplayCancelAndEnterKeyLogo(unsigned char switch_val)
{

	//unsigned char  fontbuf[16];
	//unsigned long  fontaddr=0;
	
	//fontaddr = ascii_addr_calc(switch_val);
	//read_font_data(fontaddr, fontbuf, 16);

	//display_LOGO_message(0,2,LCD_LOG_COLUME_START,16,ICON_0x00);
	//display_LOGO_message(0,2,LCD_LOG_COLUME_START+4,8,fontbuf);
	//ke_timer_set(USR_DISP_CLR_BUTTON_LOGO,20);
}*/
/*
void DisplayTestBT(unsigned char switch_val)
{
    lcd_power_control(LCD_OPEN);
    if(switch_val==0)
    {
      clear_AllScreen();
	  
	  SetPageColume(2,0,PAGE_SET);
	  display_gb18030_string("no data",strlen("no data"),0,0);		
    }
	else if(switch_val==1)
	{
	   clear_AllScreen();
		SetPageColume(2,0,PAGE_SET);
		display_gb18030_string("data over",strlen("data over"),0,0);	

	}
	else if(switch_val==3)
	{
	   clear_AllScreen();
		SetPageColume(2,0,PAGE_SET);
		display_gb18030_string("dataxx",strlen("dataxx"),0,0);	

	}	
	else if(switch_val==4)
	{
	   clear_AllScreen();
		SetPageColume(2,0,PAGE_SET);
		display_gb18030_string("disconnect",strlen("disconnect"),0,0);	

	}
	else if(switch_val==5)
	{
		SetPageColume(0,96,PAGE_SET);
		display_gb18030_string("SR",strlen("SR"),0,0);	

	}	
	else if(switch_val==6)
	{
		SetPageColume(0,96,PAGE_SET);
		display_gb18030_string("ok",strlen("ok"),0,0);	

	}	
	else if(switch_val==7)
	{
		SetPageColume(0,96,PAGE_SET);
		display_gb18030_string("SS",strlen("SR"),0,0);	

	}	
	else if(switch_val==8)
	{
		SetPageColume(0,96,PAGE_SET);
		display_gb18030_string("SO",strlen("ok"),0,0);	

	}	
	else
	{
     clear_AllScreen();
	}

}
void DisplayTestBT2222(uint16 temp_number,uint8_t start,uint8_t clo_start)
{
	   unsigned char pin[8];
	   unsigned char temp=0,temp_length=4,temp2=0;
    //lcd_power_control(LCD_OPEN);

     //clear_AllScreen();
	 
		
		
	    if(start==2)
	    {
		    while(temp_length>0)
			{
			  //pin[temp]=(temp_number) % 10;
			  //temp_number=(temp_number) /10;
			  pin[temp]=(temp_number)&0x0f;
			  temp_number=(temp_number)>>4;		  
			  temp++;
			  temp_length--;
			}
			//while(temp_number!=0);
			//if(temp<4)
			//pin[temp++]=0;
			temp_length=0;
			for(temp_length=0;temp_length<temp;temp_length++)	
			{	  
			  //pin[temp_length]=pin[temp_length]+0x30;
			  if(pin[temp_length]>9)
			  pin[temp_length]=pin[temp_length]+55;
			  else
			  pin[temp_length]=pin[temp_length]+0x30;
			}
	    }
		else
		{
		    do
			{
			  pin[temp]=(temp_number) % 10;
			  temp_number=(temp_number) /10;  
			  temp++;
			}
			while(temp_number!=0);
			//temp_length=0;
			for(temp_length=0;temp_length<temp;temp_length++)	
			{	  
			  pin[temp_length]=pin[temp_length]+0x30;
			}

		}
		for(temp_length=0;temp_length<(temp/2);temp_length++)
		{
		  temp2=pin[temp_length];
		  pin[temp_length]=pin[temp-temp_length-1];
		  pin[temp-temp_length-1]=temp2;
		}
		if(start==0)
		pin[temp]='L';
		else
		pin[temp]='C';
        temp++;
        SetPageColume(start,clo_start,PAGE_SET);
        display_gb18030_string(pin,temp,0,0);

}
*/
#if 0
//显示cos运行状态
static void display_cos_status(unsigned char sta_levlel)
{
//	unsigned char   temp1=0;
//	unsigned char   Temp[3];

	set_display_flg(DISP_START);

	//Temp[1] = 0x10+((LCD_LOG_COLUME_START+COLUME_OFFSET)>>4&0x0f);
	//Temp[2] = (LCD_LOG_COLUME_START+COLUME_OFFSET)&0x0f;

	//for(Temp[0] = 0xb6; Temp[0] < 0xb8; Temp[0]++)
	//{
		//WriteLcdCmdByPrivate(Temp,3);
		switch(sta_levlel)
		{
			case 0:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_FULL_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_FULL_ICON);
				break;
			case 1:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_1to8_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_1to8_ICON);
				break;
			case 2:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_2to8_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_2to8_ICON);
				break;
			case 3:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_3to8_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_3to8_ICON);
				break;
			case 4:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_4to8_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_4to8_ICON);
				break;
			case 5:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_5to8_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_5to8_ICON);
				break;
			case 6:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_6to8_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_6to8_ICON);
				break;
			case 7:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_7to8_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_7to8_ICON);
				break;
			case 8:
				//WriteLcdDataByPrivate((unsigned char *)&Z8_STATUS_8to8_ICON[temp1],16);
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)Z8_STATUS_8to8_ICON);
				break;
			default:
				display_graphic_16x16(2,LCD_LOG_COLUME_START,(unsigned char *)ICON_0x00);
				break;
		}
		//temp1 += 16;
	//}
	set_display_flg(DISP_END);

}



static void clear_cos_status_display(void)
{
	display_cos_status(9);
}


/*
	description: show cos running status
	para: none
	return: none
*/

void  dynamic_display_cos_staus(void) 
{
#if (DYNAMIC_DISPLAY_LOGO_BY_TIMER)

	static unsigned int  dynamic_cos_sta_counter = 0;
	//static unsigned char cos_sta_level = 1;
	//static unsigned char  cos_sta_flg = 1;

	dynamic_cos_sta_counter++;
	if (((dynamic_cos_sta_counter >= cos_sta_counter) ||(0)) && (get_display_flg() == DISP_END))
	{
		dynamic_cos_sta_counter = 0;
		//cos_sta_flg = 0;
		display_cos_status(vBatCosLevel.cos_sta_level);
		vBatCosLevel.cos_sta_level++;
		if (vBatCosLevel.cos_sta_level > 8)
		{
			vBatCosLevel.cos_sta_level = 1;
		}
	}

#else
	/*static long  dynamic_cos_sta_counter = 0;
	if (((ETGetTimeTick()-dynamic_cos_sta_counter) >= cos_sta_counter) && (get_display_flg() == DISP_END))
	{
		dynamic_cos_sta_counter = ETGetTimeTick();
		
		display_cos_status(vBatCosLevel.cos_sta_level);
		
		vBatCosLevel.cos_sta_level++;
		
		if (vBatCosLevel.cos_sta_level > 8)
		{
			vBatCosLevel.cos_sta_level = 1;
		}
	}*/
#endif
}

#endif
/*
	description: display key pressed right now
	para: key value 
	return: none
*/

void DisplayKeyState(unsigned char SW_Value)
{


	if (SW_Value == NO_KEY)
		return;   


	if(Motor_str.Motor_enalbe==1)//close motor
	{
      MotorCtr(0,0);
	}
	//set_display_flg(DISP_START);
	switch(SW_Value)
	{
		case UP_KEY:
			if(check_LCDDispCanChange()==0)
			{
			 Display_Menu(UP_KEY);
			}
			else
			{	
#if ENABLE_COS         
			 send_key_to_cos(UP_KEY);
			 display_up_page();
#endif
			}
			//if(USB_detect()==0)
			//{
			//Display_BatteryIcon();
			//}
			break;
		case DOWN_KEY:
			if(check_LCDDispCanChange()==0)
			{
			 Display_Menu(DOWN_KEY);
			}
			else
			{
#if ENABLE_COS 
			 send_key_to_cos(DOWN_KEY);
			 display_down_page();
#endif
			}
			//if(USB_detect()==0)
			//{
			//Display_BatteryIcon();
			//}

			break;
		case OK_KEY:
			if(check_LCDDispCanChange()==0)
			{
			 Display_Menu(OK_KEY);
			}	
			else
			{
#if ENABLE_COS         
				send_key_to_cos(OK_KEY);
#endif
			}
			//if(USB_detect()==0)
			//{
			//Display_BatteryIcon();
			//}

			break;
		case CANCEL_KEY:
			if(check_LCDDispCanChange()==0)
			{
			 Display_Menu(CANCEL_KEY);
			}
			else
			{
#if ENABLE_COS         
				send_key_to_cos(CANCEL_KEY);
#endif       
			}
			//if(USB_detect()==0)
			//{
			//Display_BatteryIcon();
			//}
			break;
		default:
			break;
	}

	
}

//static long  key_ver_disp_counter = 0;
void display_key_ver_counter(void)
{
#if 0
	//static unsigned int counter = 0;

	if (key_ver_disp_start)//key_ver_disp_end
	{
		key_ver_disp_counter++;
		if (key_ver_disp_counter == KEY_VER_DISP_COUNTER)
		{
			key_ver_disp_counter = 0;
			key_ver_disp_start = 0;
			key_ver_disp_end = 1;
		}
	}
#else
	

	/*if (key_ver_disp_start)//key_ver_disp_end
	{
		//key_ver_disp_counter++;
		if ((ETGetTimeTick()-key_ver_disp_counter) >= KEY_VER_DISP_COUNTER)
		{
			//key_ver_disp_counter = 0;
			key_ver_disp_start = 0;
			clear_screen_display();
			display_pairing_connecting_menu();
		}
	}*/

#endif

}

//#define GC_COS_VER_V1V2V3V4   		0x1401000C //COS版本 ETXXXX
/*static void funHexToString(UINT8 _Hex,UINT8 *_bufstr) 
{	    

	UINT8 _bufHex; 

	_bufHex=_Hex>>4;
	
    if(_bufHex<=9)
		*_bufstr=_bufHex+0x30;   //bufhex+"0"
    else 
		*_bufstr=_bufHex+55;     //65-10;
		 
    _bufHex=_Hex&0x0f;
	_bufstr++;
	
	if(_bufHex<=9)
		*_bufstr=_bufHex+0x30;
    else 
		*_bufstr=_bufHex+55;//65-10;

}
*/

void display_key_version(void)
{
	/*UINT8  cosFirmwareVer[12]="C-1.00.00";
	
	if (!key_ver_disp_flg)
		return;


	//cos 版本号转换
	funHexToString((GC_COS_VER_V1V2V3V4>>16)&0xff, &cosFirmwareVer[2]);
	cosFirmwareVer[4]=0x2E;//".";
	
	funHexToString((GC_COS_VER_V1V2V3V4>>8)&0xff, &cosFirmwareVer[5]);
	cosFirmwareVer[7]=0x2E;//".";
	funHexToString((GC_COS_VER_V1V2V3V4>>0)&0xff, &cosFirmwareVer[8]);

	
	clear_screen_display();
	display_gb18030_string((unsigned char *)"系统版本:\r\n",sizeof("系统版本:\r\n"), 0, 0);
	//display_gb18030_string((unsigned char *)&BtFirmwareVer[0],sizeof(BtFirmwareVer)-1, 0, 0);
	//display_gb18030_string((unsigned char *)"\r\n", sizeof("\r\n"));
	display_gb18030_string((unsigned char *)&BtHardwareVer[0],sizeof(BtHardwareVer)-1, 0, 0);
	display_gb18030_string((unsigned char *)"\r\n", sizeof("\r\n"), 0, 0);

	
	display_gb18030_string((unsigned char *)&cosFirmwareVer[0], sizeof(cosFirmwareVer), 0, 0);
	
	key_ver_disp_counter = ETGetTimeTick();
	key_ver_disp_flg = 0;
	key_ver_disp_start = 1;*/
}

/*
void set_cos_progress(unsigned int ms)
{
#if (DYNAMIC_DISPLAY_LOGO_BY_TIMER)
	cos_sta_counter = ms/10;
#else
	cos_sta_counter = ms;
#endif
}
#define POWER_ON_LOGO_EN   1

//extern TWORD ShowPowerOnLog(void);
void DisplayDefLogo(unsigned char page_start)
{
	  unsigned char  temp1 = 0;
	  unsigned char  Temp[3];

	  vBatCosLevel.lcd_display_flg = DISP_START;
	  Temp[0] = (unsigned char)(0xb0+page_start);
	  Temp[1] = 0x10;
	  Temp[2] = 1;
	  
	  for(temp1 = 0; temp1 < (sizeof(POWER_ON_LOGO)>>7); temp1++)
	  {
		    WriteLcdCmd(Temp, 3);
		    WriteLcdData((unsigned char *)&POWER_ON_LOGO[temp1<<7], 128);
		    Temp[0]++;
	  }
	  vBatCosLevel.lcd_display_flg = DISP_END;
}

void DisplayEntongLogo(unsigned char page_start)
{
	#if(POWER_ON_LOGO_EN)
	  unsigned char  temp1 = 0;
	  unsigned char  Temp[3];
	  unsigned char  FileLog[128];
	  TWORD  FileAddr;
	  TBYTE  Row;
	  TBYTE  Col;
	  

	  
	  if(G_CardLifeCycle>=CARD_MF_EXIST)
	  {
	  	  FileAddr=ShowPowerOnLog();
		  if(FileAddr==0xffff)
		  {
		      #if(DEBUG)
			  entong_uart_print_string("FileAddr==0xffff");
			  #endif
		  	  DisplayDefLogo(page_start); 
		  }
		  //FileAddr++;
		  ETFlashReadData(FileAddr ,&Row,1);
		  FileAddr++;
		  ETFlashReadData(FileAddr ,&Col,1);
		  FileAddr++;
		  
		  if( ((Row%8)!=0) || ((Col%8)!=0) )
		  {
		  	  //
		  	  #if(DEBUG)
			  entong_uart_print_string("Row:");
			  entong_uart_print_HEX(Row);
			  entong_uart_print_string("Col:");
			  entong_uart_print_HEX(Col);
			  #endif
		  	  DisplayDefLogo(page_start);
			  
		  }
		  else
		  {
		  	//文件log显示
		  	#if(DEBUG)
			  entong_uart_print_string("FileLog");
			#endif
		  	  vBatCosLevel.lcd_display_flg = DISP_START;
			  Temp[0] = (unsigned char)(0xb0+page_start);
			  Temp[1] = 0x10;
			  Temp[2] = 1;
			  
			  for(temp1 = 0; temp1 < (Col>>3); temp1++)
			  {
			  	
			  	    ETFlashReadData(FileAddr ,FileLog,128);
					FileAddr+=128;
				    WriteLcdCmd(Temp, 3);
					//read 128字节数据并送显示；文件
					
					//
				    WriteLcdData(FileLog, 128);
				    Temp[0]++;
			  }
			  vBatCosLevel.lcd_display_flg = DISP_END;
		  }
	  }
	  else
	  {
	  //
	  //
	  DisplayDefLogo(page_start);
	  }
	  //
	  #else
	  //=============================================
	  DisplayDefLogo(page_start);

	  #endif
}


void display_pairing_connecting_menu(void)
{
	  UINT8  bt_name[20];

	  clear_screen_display();
	  display_gb18030_string((unsigned char *)&ParingAndConnectingMenu[0],sizeof(ParingAndConnectingMenu)-1, 0, 0);

      memset(bt_name,0x00,sizeof(bt_name));	//get device name
      GetDeviceName(bt_name);
      
      //display_gb18030_string(bt_name, strlen(bt_name)+1, 0, 0);
}
*/

void ET_LCD_PW_close(void)
{
#if ENABLE_DISPLAY
//	 IomInOutSet(GP16_CMS0,0); //out mode
//	 IomInOutSet(GP17_CMS1,0); //out mode
	 
//     IomSetVal(GP16_CMS0,0);  //
//	 IomSetVal(GP17_CMS1,0);  //
#endif
}


static void ET_LCD_GPIO_init(void)
{
  NRF_GPIO->DIRSET = LCD_RES_PIN_MASK|LCD_POWER_PIN_MASK;	
	LCD_POWER_LOW;
	LCD_RES_LOW;
	nrf_delay_ms(5);
	LCD_RES_HIGH;


}
void LCD_init(void)
{

  unsigned char temp=0,count=0;
  //unsigned char lcd_init_data[]={0xae,0x00,0x10,0x00,0xb0,0x81,0x8f,0xa1,0xa6,0xa8,0x1f,0xc8,0xd3,0x00,0xd5,0x80,0xd9,0x1f,0xda,0x00,0xdb,0x40,0x8d,0x10,0xaf};//external setting
  unsigned char lcd_init_data[]={0xae,0x00,0x10,0x00,0xb0,0x81,0x8f,0xa1,0xa6,0xa8,0x1f,0xc8,0xd3,0x00,0xd5,0x80,0xd9,0x1f,0xda,0x00,0xdb,0x40,0x8d,0x14,0xaf};//internal setting
  count=sizeof(lcd_init_data);
  ET_LCD_GPIO_init();
  for(temp=0;temp<count-1;temp++)
  {
  	//GPIO_i2c_write(LCD_ADDRESS,LCD_CMD_REG,lcd_init_data+temp,1);
	et_i2c_write_conValue(LCD_ADDRESS,LCD_CMD_REG,lcd_init_data[temp],1);
  }
  disp_str.LCD_display_keymode_delay=0;
  Set_lastDisplayTag(DISP_TAG_NULL);
  //disp_str.LCD_disp_Corrent=KeyBoard_Down_2_DISP_STEP_NUM;
  clear_AllScreen();
	et_i2c_write_conValue(LCD_ADDRESS,LCD_CMD_REG,0xaf,1);
  //GPIO_i2c_write_conValue(LCD_ADDRESS,LCD_CMD_REG,0xaf,1);
  disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_NULL;
  disp_str.LCD_disp_SlaveMenu=KeyBoard_Down_2_DISP_Slave_NULL;  
  //disp_str.LCD_disp_LCD_is_close=1;
  //lcd_power_control(LCD_CLOSE);
	
//===========================================
	Display_idle_logo();
	Display_delay_set(DISP_LOGO_DELAY);
	disp_str.LCD_disp_MainMenu=KeyBoard_Down_2_DISP_IDLE;

}
//=======================step test only=================================
#if TAP_DOUBLE_CLCIK_ENABLE
void test_display_step_num(UINT32 temp_step_num)
{
  
	 UINT32 temp_number=temp_step_num;
	unsigned char pin[16];
	unsigned char temp=0,temp_length,temp2=0;

	
	do
	{
    pin[temp]=(temp_number) % 10;
	  temp_number=(temp_number) /10;
	  temp++;
	}
	while(temp_number!=0);


	for(temp_length=0;temp_length<temp;temp_length++)	
	{	  
	  pin[temp_length]=pin[temp_length]+0x30;
	}

	for(temp_length=0;temp_length<(temp/2);temp_length++)
	{
	  temp2=pin[temp_length];
	  pin[temp_length]=pin[temp-temp_length-1];
	  pin[temp-temp_length-1]=temp2;
	}

	lcd_power_control(LCD_OPEN);
	SetPageColume(0,0,PAGE_SET);	
	display_gb18030_string(pin,temp,0,0); //display digital	
	
}
#endif
